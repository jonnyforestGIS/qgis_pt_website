<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[QGIS-PT]]></title>
  <link href="http://qgis.pt/atom.xml" rel="self"/>
  <link href="http://qgis.pt/"/>
  <updated>2015-05-07T16:28:33+01:00</updated>
  <id>http://qgis.pt/</id>
  <author>
    <name><![CDATA[Grupo de Utilizadores QGIS PT]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Plugin refFunctions]]></title>
    <link href="http://qgis.pt/2015/05/06/plugin-reffunctions/"/>
    <updated>2015-05-06T17:40:08+01:00</updated>
    <id>http://qgis.pt/2015/05/06/plugin-reffunctions</id>
    <content type="html"><![CDATA[<p>Este tutorial pretende exemplificar como é possível utilizar operações espaciais no QGIS para preencher um campo na tabela de atributos com informação retirada da relação espacial existente
entre dois layers.<!-- more --> Isso é possível com recurso ao plugin <a href="http://planet.qgis.org/plugins/refFunctions/" target="_blank"><i><b>refFunctions</b></i></a>.</p>
Vamos então supor que temos um layer de pontos referentes aos clientes de uma empresa e um layer de polígonos com os limites de território de cada loja da empresa. O objetivo é então criar e preencher um
determinado campo da tabela de atributos dos pontos, fazendo uso do posicionamento espacial existente entre cada um e o polígono onde está inserido.

<h4>1º Instalação do Plugin</h4>
<ul>
    <li>No menu <i><b>Plugins</b></i>, escolher a opção <i><b>Manage and Install Plugins</b></i></li>
    <li>Pesquise o plugin <i><b>refFunctions</b></i> e proceda à sua instalação</li>
</ul>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/install_plugin.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/install_plugin.png" width="500"  alt="Pesquisa do plugin">
    </a>
</div>

<h4>2º Utilização do Plugin</h4>
<ul>
    <li>Abra a tabela de atributos do layer de pontos e coloque em modo de edição</li>
    <li>Aceda ao <i><b>Field Calculator</b></i></li>
	<li>Na seção <i><b>Create a new field</b></i>, crie um novo campo segundo as suas necessidades</li>
	<li>Agora na seção central onde estão listadas todas as categorias de funções, irá encontrar uma nova entrada, designada por <i><b>Reference</b></i>. Das opções existentes, efetue duplo clique sobre a função <i><b>geomintersects</b></i></li>
	<li>Segundo a sintax que é mostrado no help da função, teremos de definir o layer e o campo alvo onde se irá buscar a informação para preencher o nosso campo. Neste exemplo, será então o layer Lojas e o campo Loja</li>
	<li>Por fim, mande correr o processo, o qual poderá demorar ou não em função da quantidade de objectos geográficos que os layers possuem</li>
</ul>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/field_calculator.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/field_calculator.png" width="500"  alt="Utilização da função geomintersects do plugin">
    </a>
</div>
<ul>
    <li>Após a conclusão deste processo, o resultado será então a criação do novo campo, preenchido com indicação da loja em que cada ponto está inserido</li>
</ul>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/attributes.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/attributes.png" width="500"  alt="Resultado na tabela de atributos">
    </a>
</div>

<p></p>
<p>Para mais informação sobre o plugin, <a href="https://geogear.wordpress.com/2014/11/13/reffunctions-v1-0/" target="_blank">https://geogear.wordpress.com/2014/11/13/reffunctions-v1-0/</a></p>

<p>Esperamos que esta dica vos seja de ajuda. Caso tenha dúvidas, não hesite em usar a <i>mailing list qgis-pt</i> para as esclarecer.</p>

<br />
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Participação No Hackfest Do QGIS]]></title>
    <link href="http://qgis.pt/2014/10/04/participacao-no-hackfest-do-qgis/"/>
    <updated>2014-10-04T09:28:33+01:00</updated>
    <id>http://qgis.pt/2014/10/04/participacao-no-hackfest-do-qgis</id>
    <content type="html"><![CDATA[<p>Alguns membros integrantes do Grupo de Utilizadores QGIS PT deslocaram-se a Essen para participar na 12ª Developer Meeting do QGIS. <!-- more --> O ambiente que aqui se vive é, de facto,
   algo de extraordinário e muito especial. Deslocaram-se para este encontro cerca de 30 pessoas que de uma forma aberta e colaborativa se encontram a estabilizar a próxima versão do QGIS e a
   preparar toda a documentação adicional necessária (manual, site, &#8230;). A troca de experiências e <i>know-how</i> impera nas várias salas onde o pessoal se encontra arduamente a trabalhar (embora
   não haja horários definidos, regra geral, começa-se por volta das 9 horas da manhã e termina-se entre as 22 e 24 horas para os mais entusiasmados).
</p>

<p>O local escolhido para realização deste <i>hackfest</i> foi Essen na Alemanha num pequeno e excelente hotel que conseguiu muito facilmente colocar um grande sorriso em todos os seus 
   participantes. Nada mais, nada menos que o <b><i>LinuxHotel</i></b> (<a href="http://www.linuxhotel.de/" target="_blank">http://www.linuxhotel.de/</a>). Como poderão imaginar,
   existem muitos e simpáticos pinguins espalhados por estas bandas. Da nossa parte, ficámos todos encantados com o local e por isso não queríamos deixar de partilhar com a restante comunidade
   portuguesa algumas fotos obtidas nos útlimos dias. Nenhuma delas transmite verdadeiramente o que aqui se vive, mas ainda assim, permitem passar uma ideia aproximada.
</p>

<br />

<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
    <li data-target="#carousel-example-generic" data-slide-to="1"></li>
    <li data-target="#carousel-example-generic" data-slide-to="2"></li>
    <li data-target="#carousel-example-generic" data-slide-to="3"></li>
    <li data-target="#carousel-example-generic" data-slide-to="4"></li>
    <li data-target="#carousel-example-generic" data-slide-to="5"></li>
    <li data-target="#carousel-example-generic" data-slide-to="6"></li>
    <li data-target="#carousel-example-generic" data-slide-to="7"></li>
    <li data-target="#carousel-example-generic" data-slide-to="8"></li>
    <li data-target="#carousel-example-generic" data-slide-to="9"></li>
    <li data-target="#carousel-example-generic" data-slide-to="10"></li>
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner">
    <div class="item active fixed-height">
      <img src="http://qgis.pt/blog/images/posts/linuxhotel.jpg" alt="...">
      <div class="carousel-caption">
        Linux Hotel
      </div>
    </div>
    <div class="item fixed-height">
      <img src="http://qgis.pt/blog/images/posts/panoramica.jpg" alt="...">
      <div class="carousel-caption">
        Vista panorâmica do hotel
      </div>
    </div>
    <div class="item fixed-height">
      <img src="http://qgis.pt/blog/images/posts/tugateam.jpg" alt="...">
      <div class="carousel-caption">
        Equipe Tuga
      </div>
    </div>
    <div class="item fixed-height">
      <img src="http://qgis.pt/blog/images/posts/tuxsofa.jpg" alt="...">
      <div class="carousel-caption">
        Tux no sofá
      </div>
    </div>
    <div class="item fixed-height">
      <img src="http://qgis.pt/blog/images/posts/jantar.jpg" alt="...">
      <div class="carousel-caption">
        Jantar
      </div>
    </div>
    <div class="item fixed-height">
      <img src="http://qgis.pt/blog/images/posts/coding_1.jpg" alt="...">
      <div class="carousel-caption">
        Bug fixing, bug fixing, bug fixing &#8230;
      </div>
    </div>
    <div class="item fixed-height">
      <img src="http://qgis.pt/blog/images/posts/coding_2.jpg" alt="...">
      <div class="carousel-caption">
        Bug fixing, bug fixing, bug fixing &#8230;
      </div>
    </div>
    <div class="item fixed-height">
      <img src="http://qgis.pt/blog/images/posts/coding_3.jpg" alt="...">
      <div class="carousel-caption">
        Já é tarde, mas ainda se resolvem bugs à luz do candeeiro no jardim 
      </div>
    </div>
    <div class="item fixed-height">
      <img src="http://qgis.pt/blog/images/posts/giotux.jpg" alt="...">
      <div class="carousel-caption">
        Grandes amigos!!!
      </div>
    </div>
    <div class="item fixed-height">
      <img src="http://qgis.pt/blog/images/posts/aspirador.jpg" alt="...">
      <div class="carousel-caption">
        Hora da limpeza - <b>YES IT RUNS WITH LINUX</b>
      </div>
    </div>
    <div class="item fixed-height">
      <img src="http://qgis.pt/blog/images/posts/beer.jpg" alt="...">
      <div class="carousel-caption">
        Descontração
      </div>
    </div>
  </div>
</div>
<br />

<p>Os elementos do Grupo de Utilizadores QGIS PT têm estado activos em diferentes áreas:</p>
<ul>
    <li><b>Alexandre Neto</b>: <i>screenshots</i> para o site oficial e documentação; desenvolvimento de <i>plugins</i></li>
    <li><b>André Mano</b>: actualização do manual do utilizador</li>
    <li><b>Giovanni Manghi</b>: testes, identificação e reporte de novos <i>bugs</i></li>
    <li><b>Hugo Martins</b>: desenvolvimento de <i>plugins</i> para o grupo (iGeo Loader)</li>
</ul>

<h3><b>iGeo Loader</b> - novo <i>plugin</i> do Grupo QGIS PT em desenvolvimento</h3>
<p>O <a href="http://www.igeo.pt" target="_blank">Portal iGeo</a> foi lançado recentemente, agregando num único portal uma grande variedade se serviços abertos de dados georeferenciados
   provenientes de várias instituições portuguesas. Todos estes serviços são disponibilizados de acordo com normas <i>standard</i> definidas pelo <a href="http://www.opengeospatial.org/" target="_blank">OGC</a>,
   mais especificamente nos formatos WMS (Web Map Service) e WFS (Web Feature Service). Depois de algumas conversas entre utilizadores do grupo, pensámos que seria uma boa ideia, providenciar um <i>plugin</i>
   em QGIS que facilitasse a pesquisa e o carregamento desses dados no nosso SIG Desktop favorito. Pareceu-nos que o encontro de <i>developers</i> seria o momento ideal para começarmos o desenvolvimento
   deste <i>plugin</i>. Estamos em pleno desenvolvimento e, muito provavelmente, este <i>plugin</i> não estará pronto até ao fim do encontro, mas queremos partilhar convosco este nosso projecto e
   e deixar duas pequenas imagens que descrevem de forma muito simples o futuro do <i>plugin</i>.
</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/mockup.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/mockup.png" width="500"  alt="Planeamento da interface gráfica">
    </a>
</div>

<p class="img-leg">Planeamento da interface gráfica</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/plugin-screenshot.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/plugin-screenshot.png" width="500"  alt="Estado actual do iGeo Loader">
    </a>
</div>

<p class="img-leg">Estado actual do iGeo Loader</p>

<p>Esperamos que tenham gostado das novidades que vos apresentámos hoje! Para nós têm sido uns dias fantásticos no seio da comunidade <i>developer</i> do QGIS. Ainda não acabou
   e já estamos a pensar qual o próximo evento para podermos rever caras e contribuir <i>loucamente</i> para este fantástico projecto.
</p>
<p>Saudações geográficas!</p>

<br />
<img class="gravatar img-circle" src="http://www.gravatar.com/avatar/5ac74272f140db2ce94bdc51869e3168></img>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Utilização De Ferramentas Opensource Para a Caracterização De Uma Paisagem. O Módulo LecoS Do QGIS]]></title>
    <link href="http://qgis.pt/2014/08/14/utilizacao-de-ferramentas-opensource-para-a-caracterizacao-de-uma-paisagem-o-modulo-lecos-do-qgis/"/>
    <updated>2014-08-14T20:03:25+01:00</updated>
    <id>http://qgis.pt/2014/08/14/utilizacao-de-ferramentas-opensource-para-a-caracterizacao-de-uma-paisagem-o-modulo-lecos-do-qgis</id>
    <content type="html"><![CDATA[<p>Este trabalho resulta de parte do projecto final da Pós-Graduação Executiva em Sistemas de Informação Geográfica leccionado pela Geopoint. <!-- more --> Propôs-se estudar uma paisagem para usar o módulo Landscape Ecology (LecoS) no Qgis 2.01 Dufour.</p>
<p>A área de estudo é o Concelho de Coimbra, com uma área total de aproximadamente 31940ha, situada na região Centro de Portugal, com coordenadas geográficas 40°12&#8217;11.84&#8221;Norte e   8°24&#8217;37.15&#8221; Oeste. Atualmente dividida em 18 freguesias por força da nova reorganização administrativa, sendo estas maioritariamente de cariz urbano (Figura 1).</p>
<p></p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/Map.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/Map.png" width="500"  alt="Figura 1 - Localização geográfica do Concelho de Coimbra">
    </a>
</div>
<p></p>
<p>A caracterização de uma paisagem é levada a cabo usando índices quantitativos designados por métricas da paisagem. Estes índices são depois utilizados para descrever as características estruturais da paisagem, para documentar a mudança ou a sua relação com a ocorrência de várias espécies ou grupo de espécies (Turner <i>et al.</i>, 2001; Olsen <i>et al.</i>, 2007; Fidalgo <i>et al.</i>, 2009). O número de métricas é enorme, podendo ser calculado ao nível da paisagem, da classe e da mancha (Turner <i>et al.</i>, 2001; Fidalgo <i>et al.</i>, 2009).</p>
<p>As métricas podem ser calculadas a partir da Corine Land Cover, da Carta de Ocupação do solo (COS 90 e COS2006) ou de mapas de Uso/Ocupação do solo por nós produzidas. Segundo Martin Jung (2012), o Landscape Ecology Stistics (LecoS) é um módulo do Qgis que serve para calcular métricas da paisagem em camadas raster. O resultado pode ficar disponível em formato <i>CSV</i>.</p>
<p></p>
<h3>Metodologia</h3>
<p>Para calcular as métricas da paisagem utilizaram-se as coberturas da Corine Land Cover (CLC) dos anos 1990 e 2006. Para o efeito houve a necessidade de transformar as coberturas em formato raster através da ferramenta r.to.raster do módulo GRASS GIS das ferramentas de processamento, tendo em conta a classificação do nível 1 da Corine Land Cover e posteriormente utilizou-se o módulo LecoS do QGIS usando o modelador gráfico (Figura 2).</p>
<p></p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/Metricas_1990.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/Metricas_1990.png" width="500"  alt="Figura 2 - Modelo para o cálculo das métricas da paisagem no ano 1990.">
    </a>
</div>
<p></p>
<p>As métricas calculadas foram a Área de cada uso do solo (Land Cover), a Proporção que cada uso tem na paisagem (Landscape Proportion), a densidade de orlas (Edge density),  Número de manchas (Number of Patches), Área da mancha maior, Área da mancha mais pequena, distância média entre manchas (Mean patch distance) e o tamanho efectivo da malha (effective meshsize) (Tabela 1). Quanto às medidas de diversidade da paisagem calculadas foram o índice de Shannon, Uniformidade e o Índice de Simpson.</p>
<p></p>
<h3>Resultados</h3>
<p>Da análise efectuada às métricas da paisagem calculadas constata-se que houve um aumento do grau de antropização e por consequência uma maior fragmentação de usos entre 1990 e 2006. O número de manchas de Florestas e meios naturais e semi-naturais e as Áreas Agricolas e Agro-Florestais diminuiram entre 1990 e 2006  (Tabela 1). Esta métrica pode dar-nos indicações sobre alguns processos ecológicos incrementando ou diminuindo relações entre populações e habitats (Viana e Aranha, 2008).</p>
<p>De salientar também a distância média entre manchas, uma das medida que nos permite entender o grau de fragmentação da paisagem, a diminuição das Florestas e meio naturais e semi-naturais de 1990 para 2006 em detrimento do aumento dos territórios artificializados (Tabela 1).</p>
<p></p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/Table_Landscape_Metrics.jpg" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/Table_Landscape_Metrics.jpg" width="500"  alt="Tabela 1 - Métricas da paisagem calculadas para as coberturas do uso do solo em 1990 e 2006.">
    </a>
</div>
<p></p>
<p>De 1990 para 2006 aumentou a diversidade, no entanto sabe-se que este resultado está directamente relacionado com a transferência entre os usos, nomeadamente a perda de áreas Agrícolas e Agro-Florestais e Florestas e meios naturais e semi-naturais. O mesmo aconteceu com a Uniformidade.</p>
<p></p>
<h3>Conclusões</h3>
<p></p>
<p>Foi possível determinar as métricas da paisagem recorrendo ao módulo <i>LecoS</i> constatando-se que a área de estudo apresenta problemas de fragmentação devido ao elevado grau de antropização.</p>
<p>O QGIS revelou-se bastante intuitivo e muito prático no cálculo das métricas da paisagem não existindo qualquer tipo de constrangimento. É de facto uma solução robusta e viável comparativamente com os softwares proprietário.</p>
<p>No futuro pretende-se aplicar este método a áreas que tenham problemas com espécies invasoras para estudar o seu comportamento na paisagem.</p>
<p></p>
<h4>Referências</h4>
<p>[1] Fidalgo, B., R. Salas, et al. (2009). &#8220;Estimation of plant diversity in a forested mosaic landscape: the role of landscape, habitat and patch features.&#8221; Revista Latinoamericana de Recursos Naturales 5 (2): 65-73.</p>
<p>[2] Viana, Hélder; Aranha, José (2008) - Estudo da alteração da cobertura do solo no Parque Nacional da Peneda Gerês (1995 e 2007). Análise temporal dos padrões espaciais e avaliação quantitativa da estrutura da paisagem. X Encontro de Utilizadores de Sistemas de Informação Geográfica, 14 a 16 de Maio de 2008 – Oeiras.</p>
<p>[3] Martin Jung (2012) LecoS - A QGIS plugin to conduct landscape ecology statistics, <a class="wrap-url" href="http://www.w3schools.com/" target="_blank">http://plugins.qgis.org/plugins/LecoS.</a></p>
<p>[4] Olsen, L., V. Dale, et al. (2007). &#8220;Landscape patterns as indicators of ecological change at Fort Benning, Georgia, USA.&#8221; Landscape and urban planning 79: 137-149.</p>
<p>[5] Turner, M. G., R. Gardner, et al. (2001). Landscape ecology in theory and practice: pattern and process. New York.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[QGIS E O Software Estatístico R]]></title>
    <link href="http://qgis.pt/2014/08/14/qgis-e-o-software-estatistico-r/"/>
    <updated>2014-08-14T16:05:24+01:00</updated>
    <id>http://qgis.pt/2014/08/14/qgis-e-o-software-estatistico-r</id>
    <content type="html"><![CDATA[<p>
    Caros Utilizadores, graças a interoperabilidade do QGIS actualmente podemos associar o QGIS com o software estatístico open source R. O R é muito versátil e é expansível para outras 
    linguagens sendo normalmente utilizado em estatística e análise de dados (data mining). <!-- more -->
</p>
<p>
    O objectivo deste artigo é explicar a sua instalação, configuração com o QGIS, compreensão da nomenclatura e a demonstração de um pequeno exemplo. Espero que seja útil para a vossa 
    rotina diária.
</p>
<p>Este artigo foi elaborado tendo como base o SO Windows 7 64-bits com o Instalador OSGeo4W 32-bits QGIS Chugiak 2.4  e o software R 3.1.1.</p>


<h3>Instalação</h3>
<p>
    Para começarmos a usar o R com o QGIS é necessário fazer a sua transferência. Pode efectuá-la através de um dos vários <i>mirrors</i> (servidores) disponíveis do projecto. Para este artigo, 
    usámos o servidor da Faculdade de <a href="http://cran.dcc.fc.up.pt/" target="_blank">Ciências da Universidade do Porto</a>. Estando neste página escolha o link que diz 
    <a href="http://cran.dcc.fc.up.pt/bin/windows/" target="_blank">Download for Windows</a> (a opção base). Em seguida, use o link base e transfira o R clicando no link 
    <a href="http://cran.dcc.fc.up.pt/bin/windows/base/R-3.1.1-win.exe" target="_blank">Download R 3.1.1 for Windows</a> (Figura 1).
</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/figura1_r.jpg" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/figura1_r.jpg" width="500"  alt="Área de transferência do software R">
    </a>
</div>
<p class="img-leg">Figura 1 - Área de transferência do software R</p>

<h3>Configuração com o QGIS</h3>
<p>
    Após a instalação do R no seu computador, é necessário que indique ao QGIS onde é o directório do R. Para isso, tem de ir ao menu Processamento > Opções e configuração (Figura 2).
</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/figura2_r.jpg" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/figura2_r.jpg" width="200"  alt="Menu Processamento">
    </a>
</div>
<p class="img-leg">Figura 2 - Menu Processamento</p>


<p>
    Aparecerá uma janela de diálogo denominada de opções de processamento, onde deverá expandir a opção de <b>Fornecedores</b>, e em seguida as opções do separador R scripts (Figura 3). 
</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/figura3_r.jpg" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/figura3_r.jpg" width="500"  alt="Opções e Configurações do Menu Processamento">
    </a>
</div>
<p class="img-leg">Figura 3 - Opções e Configurações do Menu Processamento</p>

<p>O caminho padrão usado normalmente é o <i>C:\Program Files\R\R-3.1.1\</i></p>

<p>
    Após inserir o directório poderá dizer ao QGIS se pretende ou não usar a versão de 64 bits. Para finalizar clique na opção <b>Activate</b>. No caso do <i>R scripts folder</i> (pasta dos 
    seus scripts R) deixe o directório padrão.
</p>

<p>
    Concluída esta configuração, conseguirá ver no menu processamento as ferramentas relacionadas com o R. Dentro dessas ferramentas existem alguns <i>scripts</i> criados por utilizadores 
    e que vêm por defeito na instalação do QGIS. Para criar o seu próprio script R, vá a <b>R Scripts</b>, clique em <b>Tools</b> e <b>Create New Script R</b> (Figura 4).
</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/figura4_r.jpg" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/figura4_r.jpg" width="300"  alt="Janela de criação do Script R">
    </a>
</div>
<p class="img-leg">Figura 4 - Janela de criação do Script R</p>

<p>
    Ao clicar na ferramenta <b>Create New Script R</b>, aparecerá uma janela de diálogo onde poderá começar a escrever o seu código. Na figura 5, é apresentada a janela de diálogo do 
    <i>script</i> e os seus respectivos botões.
</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/figura5_r.jpg" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/figura5_r.jpg" width="500"  alt="Janela de diálogo do Script">
    </a>
</div>
<p class="img-leg">Figura 5 - Janela de diálogo do Script (1 – Guardar ; 2 – Guardar como; 3 – Editar ajuda do script; 4 – Correr Algoritmo; 5 – Cortar; 6 – Copiar; 7- Botões de Desfazer e Refazer)</p>


<p>
    Uma das coisas interessantes deste menu processamento, é a possibilidade de criarmos um separador ajuda que vai acompanhado com o <i>script</i> depois de ser guardado. Isto 
    permite aos outros utilizadores perceberem qual a finalidade do <i>script</i> (Figura6).
</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/figura6_r.jpg" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/figura6_r.jpg" width="500"  alt="Janela Ajuda do Script">
    </a>
</div>
<p class="img-leg">Figura 6 - Janela Ajuda do Script</p>

<h3>Criar a ponte entre o QGIS e o Script R</h3>
<p>
    Actualmente existe um conjunto de código base para que os scripts sejam interpretados no QGIS e no menu Processamento, e que iremos descrever a seguir:
    <ul>
        <li><b>#</b> → Serve para declarar um comentário (útil para programadores que querem perceber o código)</li>
        <li><b>##</b> → Declara uma variável (todas as linhas começam com duplo cardinal)</li>
        <li><b>##QGIS-PT=group</b> → Declaração do grupo onde se insere o algoritmo</li>
        <li><b>##nome_variavel=vector</b> → Declaração de uma variável tipo vector, se no seu caso for um raster basta substituir vector por raster</li>
        <li><b>##atributo_da_tabela=Field Layer</b> → Declaração de uma variável que usa um atributo de uma camada</li>
    </ul>
</p>
<p>
    Podemos também indicar que tipo de variável esperamos:
    <ul>
        <li><b>##nome_variavel=string</b> → Declaração da variável como sendo uma cadeia de texto</li>
        <li><b>##nome_variavel=number</b> → Declaração da variável como sendo do tipo número</li>
        <li><b>##nome_variavel=boolean</b> → Declaração da variável como sendo do tipo booleano</li>
        <li><b>library(&#8216;gdal&#8217;)</b> → Declara que packages R são necessários para correr o script R. <i>Nota</i>: se um pacote exigido pelo <i>script</i>não estiver instalado na directoria do R,
               o QGIS vai automaticamente descarregá-lo à internet (através do software R). Se não tiver permissões de administrador na pasta do R ou não tiver uma ligação à internet poderá 
               não conseguir instalar os pacotes necessários e ocorrerá um erro de escução do <i>script</i>, podendo resultar em saídas em branco.</li>
    </ul>
</p>

<p>
    Agora é necessário definir que tipo de ficheiro de saída que desejamos:
    <ul>
        <li><b>##showplots</b> → Esta declaração permite gerar gráficos recorrendo às funções R (ex.: plot(), hist(), etc&#8230;)</li>
        <li><b>##ficheiro_saida=output vector</b> → Esta declaração permite que o ficheiro de saída seja uma camada vectorial, poderá também alterar o vector por raster se desejar que 
               a saída seja uma camada raster</li>
    </ul>
</p>

<p>Após estas declarações definidas poderá inserir o seu código R, com as suas respectivas variáveis e poderá guardar o seu <i>script</i>. Resumidamente, o script tem o seguinte corpo:</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='r'><span class='line'><span class="c1">##nome_grupo_algoritmos= group</span>
</span><span class='line'><span class="c1">##nome_variavel = vector ou raster</span>
</span><span class='line'>
</span><span class='line'>library<span class="p">(</span><span class="s">&#39;pacote R a ser usado para correr o script&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>Código do Script R
</span><span class='line'>
</span><span class='line'><span class="c1">##showplots</span>
</span><span class='line'><span class="c1">##ficheiro_saida= ouput vector</span>
</span></code></pre></td></tr></table></div></figure>

<h3>Exemplo de criação de um <i>script</i></h3>
<p>
    Foi criado um simples script R para que os utilizadores tenham uma ideia do fluxo de trabalho. Para este exemplo foram usadas as Áreas Ardidas no período de 2000 a 2008 disponibilizadas
    pelo ICNF em formato <i>shapefile</i>.
</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='r'><span class='line'><span class="c1">##QGIS_PT=group</span>
</span><span class='line'><span class="c1">##camada= vector</span>
</span><span class='line'><span class="c1">##showplots</span>
</span><span class='line'><span class="c1">##ano= field camada</span>
</span><span class='line'><span class="c1">##hectares= field camada</span>
</span><span class='line'>plot<span class="p">(</span>camada<span class="p">[[</span>ano<span class="p">]],</span> camada<span class="p">[[</span>hectares<span class="p">]],</span> main<span class="o">=</span><span class="s">&quot;Areas Ardidas&quot;</span><span class="p">,</span>xlab<span class="o">=</span><span class="s">&quot;Ano&quot;</span><span class="p">,</span>ylab<span class="o">=</span><span class="s">&quot;hectares&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/figura7_r.jpg" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/figura7_r.jpg" width="500"  alt="Saída Gráfica">
    </a>
</div>
<p class="img-leg">Figura 7 - Saída Gráfica</p>

<p>
    Outro aspecto interessante, é a possibilidade de integrar os nossos <i>scripts</i> R no modelador gráfico e criar uma cadeia de algoritmos com os <i>scripts</i> previamente criados (Figura 8).
</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/figura8_r.jpg" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/figura8_r.jpg" width="500"  alt="Integração no modelador gráfico do Menu Processamento">
    </a>
</div>
<p class="img-leg">Figura 8 - Integração no modelador gráfico do Menu Processamento</p>

<p>Podemos ainda, utilizar o nosso <i>script</i> R para o processamento em lote, como é mostrado na figura 8.</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/figura9_r.jpg" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/figura9_r.jpg" width="500"  alt="Processamento em Lote">
    </a>
</div>
<p class="img-leg">Figura 9 - Processamento em Lote</p>

<h3>Notas finais</h3>
<p>É preciso perceber que este artigo é meramente um simples exemplo da potencialidade da integração do R com o QGIS.</p>
<p>
    Existem alguns <i>bugs</i> conhecidos para a versão 32-bits e 64-bits no Windows, nomeadamente o <i>R Output</i> em branco (mas geram os resultados correctos se forem guardados 
    na pasta de destino). Os <i>bugs</i> podem ser seguidos em <a href="http://hub.qgis.org/issues/7643" target="_blank">http://hub.qgis.org/issues/7643</a> e em 
    <a href="http://hub.qgis.org/issues/9203" target="_blank">http://hub.qgis.org/issues/9203</a>.
</p>
<p>Verifque se os pacotes do R estão no directório apropriado, pois se isso não acontecer (ex.: permissão de pasta), o QGIS não vai conseguir executar <i>scripts</i> de R e notificá-lo-á como estando em falta.</p>

<h3>Fontes consultadas</h3>
<p>[1] <a class="wrap-url" href="https://conservationecology.wordpress.com/2013/08/14/port-your-r-scripts-to-qgis-using-sextante/" target="_blank">https://conservationecology.wordpress.com/2013/08/14/port-your-r-scripts-to-qgis-using-sextante/</a></p>
<p>[2] <a class="wrap-url" href="http://www.geotribu.net/node/719" target="_blank">http://www.geotribu.net/node/719</a> (Um obrigado à Alexandra Glória por ter ajudado na tradução para português)</p>
<p>[3] <a class="wrap-url" href="http://www.r-bloggers.com/getting-raster-histogram-in-qgis-using-sextante-and-r/" target="_blank">http://www.r-bloggers.com/getting-raster-histogram-in-qgis-using-sextante-and-r/</a></p>
<p>[4] <a class="wrap-url" href="http://cran.r-project.org/doc/manuals/r-release/R-intro.html" target="_blank">http://cran.r-project.org/doc/manuals/r-release/R-intro.html</a></p>
<p>[5] <a class="wrap-url" href="http://www.icnf.pt/portal/florestas/dfci/Resource/doc/cart/ar-ard-00-08" target="_blank">http://www.icnf.pt/portal/florestas/dfci/Resource/doc/cart/ar-ard-00-08</a></p>
<br />
<img class="gravatar img-circle" src="http://www.gravatar.com/avatar/0edb9f3a1e5191476215ce32183d80a4></img>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Transformação De Coordenadas E Utilização Das Grelhas NTv2 No QGIS]]></title>
    <link href="http://qgis.pt/2014/07/13/transformacao-de-coordenadas-e-utilizacao-das-grelhas-ntv2-no-qgis/"/>
    <updated>2014-07-13T23:47:03+01:00</updated>
    <id>http://qgis.pt/2014/07/13/transformacao-de-coordenadas-e-utilizacao-das-grelhas-ntv2-no-qgis</id>
    <content type="html"><![CDATA[<p>A crescente evolução dos Sistemas de Informação Geográfica, e a sua “democratização”, tanto pela via da simplificação, como pelo desenvolvimento de software aberto para SIG de 
   grande qualidade, de onde se destaca o QGIS,<!-- more --> tem permitido a um número cada vez maior de utilizadores, oriundos das mais diversas áreas do conhecimento, trabalhar com informação 
   geográfica. Muitos desses novos utilizadores, quiçá a maioria, não possuem conhecimentos de Ciências Cartográficas ou Geodesia, e enfrentam grandes dificuldades na utilização dos 
   Sistemas de Coordenadas.</p>
   
<p>Com efeito, uma das características fundamentais da Informação Geográfica é a sua georreferenciação ou, mais simplesmente, a associação a uma posição no espaço, 
identificada por um conjunto de coordenadas.</p>

<h3>Índice</h3>

<ol>
    <li><a href="#1">Introdução</a></li>
    <li><a href="#2">Sistemas de Coordenadas no QGIS</a></li>
    <li><a href="#3">Transformações de Coordenadas <i>On The Fly</i> no QGIS, usando as grelhas NTv2 de Portugal continental</a></li>
    <li><a href="#4">Transformações de Coordenadas no QGIS usando as grelhas NTv2 de Portugal continental – Sistemas de Referência Personalizados</a></li>
    <li><a href="#5">Referências</a></li>
</ol>

<p id="1">&nbsp;</p><p>&nbsp;</p>
<h3>1. Introdução</h3>
<p>Os sistemas de coordenadas utilizados para georreferenciação podem classificar-se em três classes fundamentais [1]:</p>
<ol>
    <li>Sistemas de coordenadas cartesianos tridimensionais, geocêntricos, com sistemas de eixos com origem próximo do centro de massa da Terra e coordenadas X, Y, Z.</li>
    <li>Sistemas de coordenadas geodésicos ou elipsoidais, resultantes do ajustamento de uma superfície elipsoidal (com definição matemática conhecida) ao geóide, 
        em função de um sistema de coordenadas cartesiano tridimensional ou de observações astronómicas. As coordenadas geodésicas elipsoidais são definidas por latitude, 
        longitude e altitude elipsoidal (φ, λ, h).</li>
    <li>Sistemas de coordenadas cartográficos ou planos, obtidos a partir das coordenadas elipsoidais, por intermédio de uma projecção cartográfica, à qual se associa um 
        sistema de coordenadas cartesianas bidimensionais.</li>
</ol>

<p>Grande parte da complexidade associada aos sistemas de coordenadas advém do facto da Terra não ser uma superfície regular e plana, e da cartografia se processar, inevitavelmente, 
   num plano (folha de papel, ecrã de computador, etc.). Esta situação encontra-se bem ilustrada numa animação de 1947, denominada “The Impossible Map” [2]. 
   Assim, houve necessidade de encontrar mecanismos que permitissem solucionar esse problema.</p>
   
<p>O geóide é a figura que mais se aproxima da forma da Terra, correspondendo a uma superfície equipotencial do campo gravítico terrestre, próxima do nível médio das águas do mar.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/1_modelo_geoide.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/1_modelo_geoide.png" width="300"  alt="Modelo do geóide">
    </a>
</div>

<p class="img-leg">Modelo do geóide (GOCE-ESA [3])</p>

<p>O geóide possui uma geometria bastante complexa, difícil de definir matematicamente, pelo que se usa o elipsóide para fazer a sua aproximação.</p>

<p>A utilização de um elipsóide como superfície de referência para suporte à georreferenciação, requer a definição de um conjunto de parâmetros: dimensão, forma e posição. O estabelecimento 
   desses parâmetros, materializados num ponto, constitui a definição de um Datum Geodésico [1]. Esse ponto, designado ponto de fixação, é o ponto de uma rede geodésica que estabelece as 
   relações entre o geóide e o elipsóide de referência, e entre as coordenadas astronómicas e as coordenadas geodésicas [4].</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/2_ondulacao_geoide.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/2_ondulacao_geoide.png" width="500"  alt="Ondulação do geóide">
    </a>
</div>

<p>Um elipsóide pode ser posicionado de forma a ajustar-se melhor a uma pequena zona do geóide (por exemplo, um país), designando-se por datum local (como o datum Lisboa ou o datum 73), 
   ou pode ser ajustado à totalidade do geóide, designando-se por datum global (como o WGS84 ou o ETRS89). Nos data locais, o ponto de fixação é escolhido de forma a minimizar as 
   distâncias entre o geóide e o elipsóide.</p>
   
<p>O primeiro datum geodésico definido em Portugal foi o datum Lisboa, fixado no Castelo de S. Jorge ainda no século XIX. Mais tarde, foi definido o datum 73, fixado no vértice geodésico 
   de Melriça. Durante o séc. XX, foi também utilizado o datum Europeu ED50.</p>

<p>Com a popularização dos sistemas de navegação por satélite, começaram a privilegiar-se os sistemas de coordenadas baseados em data globais, como o WGS84 e, mais recentemente, na Europa, 
   o ETRS89, que é coincidente com o WGS84 em 1989. O ETRS89 é materializado por um conjunto de estações fixadas na placa euro-asiática, evitando assim a variação nas coordenadas do WGS84, 
   que ocorre devido ao movimento das placas tectónicas. Apesar de tudo, esse movimento é bastante lento, levando a que, para a maioria das aplicações, o WGS84 se possa considerar igual ao 
   ETRS89 [5].</p>

<p>Também ao nível das projecções, foram utilizadas diversas em Portugal, desde a projecção de Bonne, à projecção de Gauss-Kruger e ao sistema UTM.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/3_sistemas_projeccao_pt.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/3_sistemas_projeccao_pt.png" width="500"  alt="Sistemas de projecção utilizados no território do continente">
    </a>
</div>

<p class="img-leg">Sistemas de projecção utilizados no território do continente. Da esquerda para a direita: Bessel-Bonne-Lisboa, Hayford-Gauss-Lisboa, Hayford-Gauss-Melriça e 
   Hayford-Gauss-Militar. PC designa o Ponto Central da projecção; o triângulo assinala o ponto de fixação do datum; a letra O designa a origem das coordenadas cartográficas; os 
   números I a IV identificam os quadrantes em cada sistema (Gaspar, J. A., 2000, citado em [6])</p>

<p>Do anteriormente exposto se depreende que existe informação geográfica produzida em distintos sistemas de referência, que é necessário compatibilizar, através de
   operações de transformação de coordenadas.</p>
   
<p>Existem diferentes métodos de transformação, dependendo do tipo de coordenadas em que se pretende efectuar essa transformação mas, de um modo genérico, todos requerem a identificação 
   do sistema de coordenadas em que os dados se encontram e de um conjunto de parâmetros de transformação entre esse sistema e o WGS84, que acaba por funcionar como um sistema intermédio. 
   Esses parâmetros são calculados a partir de pontos de coordenadas conhecidas em diversos sistemas e são, por isso, dependentes do conjunto de pontos utilizados, motivo que explica a 
   existência de diferentes parâmetros de transformação envolvendo os mesmos sistemas e os mesmos métodos. Vamos ver mais adiante que, por exemplo, a actual Direcção-Geral do Território 
   (DGT) disponibilizou, ao longo dos anos, diferentes parâmetros [oficiais] de transformação de Bursa-Wolf e Molodensky, do datum Lisboa e do datum 73 para WGS84 e, mais recentemente, 
   para ETRS89.</p>
   
<p>A conversão entre diferentes tipos de coordenadas num mesmo datum é exacta, ou seja, a passagem de coordenadas cartesianas tridimensionais para coordenadas geodésicas, e destas para 
  cartográficas, é feita sem qualquer incerteza ou erro, pois existem fórmulas matemáticas que viabilizam essa conversão [1].</p>
  
<p>Pelo contrário, se as coordenadas se encontrarem em data diferentes, a transformação já implica algum erro, que depende de um conjunto de factores como o método de transformação, 
   os pontos referenciados em ambos os sistemas, entre outros.</p>

<p>A imagem seguinte resume o processo de conversão e transformação entre sistemas de coordenadas.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/4_Conversoes_Transformacoes_Coord.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/4_Conversoes_Transformacoes_Coord.png" width="500"  alt="Conversão e transformação entre sistemas de coordenadas">
    </a>
</div>

<p class="img-leg">Conversão e transformação entre sistemas de coordenadas (Adaptado de [1])</p>

<p>Uma vez que as transformações com funções polinomiais são de uso bastante restrito, podemos dizer que na transformação entre dois sistemas de coordenadas cartográficas, 
   cada um deles baseado num datum geodésico diferente, teremos 4 transformações, 2 de projecção e 2 de datum, podendo ainda estar envolvidas 2 conversões entre coordenadas geodésicas 
   e cartesianas tridimensionais. A imagem seguinte esquematiza esse processo, representando a passagem do sistema de coordenadas cartográficas 1 (PCS1) ao 2 (PCS2), sendo conhecidas as 
   relações de cada datum geodésico (GCS) com um datum global [7] (geralmente, o WGS84). </p>
   
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/5_conv_coordenadas_jag.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/5_conv_coordenadas_jag.png" width="500"  alt="Conversão geral entre sistemas de coordenadas projectadas">
    </a>
</div>
   
<p class="img-leg">Conversão geral entre sistemas de coordenadas projectadas (E, N): PCS1 (Projected Coordinate System), no datum local 1, para PCS2, no datum local 2. (λ, φ) são as 
   coordenadas geográficas nos diferentes GCS (Geographic Coordinate System) [7]</p>
   
<p>Os softwares de SIG, de um modo geral, lidam desta forma com as conversões de coordenadas [8]. Os métodos mais clássicos de transformação são o de Bursa-Wolf e o de Molodensky. A DGT 
   determina e disponibiliza no seu site [9], para cada datum local, os parâmetros que o relacionam com um datum global, viabilizando dessa forma qualquer conversão.</p>
   
<p>A transformação de Bursa-Wolf é uma transformação em coordenadas cartesianas tridimensionais, fazendo uso de um conjunto de 7 parâmetros, que envolvem translacção, rotação e efeito 
   de escala [5].</p>
   
<p>A transformação de Molodensky, ou de 3 parâmetros, processa-se sobre coordenadas geodésicas e é um método diferencial em que os parâmetros produzidos são diferenças a aplicar às 
   coordenadas do sistema de partida [10].</p>
   
<p>No quadro seguinte apresentam-se os erros das transformações para datum Lisboa e datum 73.</p>

<table class="table">
    <tr>
        <th rowspan="2">Transformação</th>
        <th rowspan="2">Erro</th>
        <th colspan="2">Datum Lisboa</th>
        <th colspan="2">Datum 73</th>
    </tr>
    <tr>
        <th>eM (m)</th>
        <th>eP (m)</th>
        <th>eM (m)</th>
        <th>eP (m)</th>
    </tr>
    <tr>
        <td rowspan="2">Bursa-Wolf</td>
        <td>Médio quadrático</td>
        <td>1.40</td>
        <td>1.49</td>
        <td>0.38</td>
        <td>0.36</td>
    </tr>
    <tr>
        <td>Máximo absoluto</td>
        <td>5.10</td>
        <td>4.15</td>
        <td>1.35</td>
        <td>1.08</td>
    </tr>
    <tr>
        <td rowspan="2">Molodensky</td>
        <td>Médio quadrático</td>
        <td>1.69</td>
        <td>1.60</td>
        <td>0.84</td>
        <td>0.56</td>
    </tr>
    <tr>
        <td>Máximo absoluto</td>
        <td>4.47</td>
        <td>5.03</td>
        <td>2.11</td>
        <td>1.87</td>
    </tr>
</table>

<p class="img-leg">Erros em M (Meridiano) e P (Paralelo) encontrados nas transformações (Bursa-Wolf e Molodensky) de datum ETRS89 para os data Lisboa e 73, nos pontos da rede geodésica,
    usando os parâmetros do IGP (citado em [7]).</p>
    
<p>Como se pode constatar, os erros introduzidos nas transformações, especialmente no caso do datum Lisboa, são relativamente grandes e não são compatíveis com escalas cartográficas grandes,
   como 1:2.000, 1:1.000 ou superior [7].</p>
   
<p>Assim, para essas escalas, é necessário utilizar outros métodos de transformação mais rigorosos, como é o caso do método das grelhas de diferenças de coordenadas geográficas entre um 
   datum local e um datum global. Essas grelhas são obtidas a partir de pontos de referência conhecidos nos dois sistemas, como é o caso dos pontos da Rede Geodésica Nacional.</p>
   
<p>O prof. José Alberto Gonçalves (FCUP) criou grelhas de transformação de coordenadas a partir de 940 pontos das redes geodésicas de 1ª e 2ª ordem (cujas coordenadas eram disponibilizadas 
   pelo ex-IGP), através do cálculo das diferenças de longitudes e latitudes, dos data locais para ETRS89. De seguida procedeu a uma interpolação espacial (krigagem) dessas diferenças, 
   para gerar superfícies contínuas, com espaçamento de 1 décimo de grau, que cobrem todo o território de Portugal continental, no formato NTv2 (com extensão .gsb), que é o standard 
   suportado pelos softwares de SIG.</p>
   
<p>As estatísticas dos erros obtidos na transformação de 147 pontos da rede de 3ª ordem (que não entraram na elaboração das grelhas), pelo método das grelhas, estão patentes no quadro 
   seguinte.</p>
   
<table class="table">
    <tr>
        <th rowspan="2"></th>
        <th colspan="2">Datum Lisboa</th>
        <th colspan="2">Datum 73</th>
    </tr>
    <tr>
        <th>eM (m)</th>
        <th>eP (m)</th>
        <th>eM (m)</th>
        <th>eP (m)</th>
    </tr>
    <tr>
        <td>Média</td>
        <td>-0.005</td>
        <td>0.004</td>
        <td>0.004</td>
        <td>-0.008</td>
    </tr>
    <tr>
        <td>Desvio Padrão</td>
        <td>0.073</td>
        <td>0.087</td>
        <td>0.052</td>
        <td>0.047</td>
    </tr>
    <tr>
        <td>Mínimo</td>
        <td>-0.336</td>
        <td>-0.391</td>
        <td>-0.387</td>
        <td>-0.318</td>
    </tr>
    <tr>
        <td>Máximo</td>
        <td>0.314</td>
        <td>0.479</td>
        <td>0.228</td>
        <td>0.267</td>
    </tr>
</table>

<p class="img-leg">Estatísticas dos erros da transformação com grelhas de Datum Lisboa e de Datum 73 para ETRS89, em 147 pontos da rede geodésica não utilizados na geração das grelhas
   [7].</p>
   
<p>Verifica-se, de facto, que o método das grelhas é bastante mais rigoroso do que os métodos de Bursa-Wolf ou Molodensky. No caso do datum Lisboa, o erro das transformações de 3 e 7 
   parâmetros é quase tão grande como se simplesmente se tivessem considerado as coordenadas ETRS89 projectadas, iguais às coordenadas Hayford-Gauss datum Lisboa [8], cujas diferenças 
   atingem, no máximo, 8m, no extremo Noroeste de Portugal continental [5].</p>

<p>Entretanto, a DGT também disponibilizou grelhas de transformação de coordenadas. Para a sua elaboração, utilizou 1129 vértices da Rede Geodésica Nacional, observados com GPS. Através de 
   uma interpolação por kriging, gerou as grelhas de diferenças (de datum 73 para ETRS89 e de datum Lisboa para ETRS89), com espaçamento de 1&#8217;,2. A precisão da transformação foi estimada 
   com base em 130 vértices geodésicos (que também não entraram para o cálculo das grelhas), tendo obtido os valores da tabela seguinte [11]:</p>
   
<table class="table">
    <tr>
        <th></th>
        <th>Datum Lisboa</th>
        <th>Datum 73</th>
    </tr>
    <tr>
        <td>e.m.q. (m)</td>
        <td>0.09</td>
        <td>0.06</td>
    </tr> 
    <tr>
        <td>Máximo Abs. (m)</td>
        <td>0.30</td>
        <td>0.16</td>
    </tr> 
</table>

<p>Desta forma, conclui-se que, sempre que estejam disponíveis grelhas de transformação, esse método é preferível em relação aos métodos de Bursa-Wolf ou Molodensky. Ainda assim, o 
   QGIS suporta, como veremos de seguida, através das bibliotecas PROJ.4, todos esses métodos de transformação de coordenadas, pelo que a escolha do método a adoptar dependerá da vontade 
   de cada um e do rigor necessário para a aplicação em causa.</p>

<p id="2">&nbsp;</p><p>&nbsp;</p>   
<h3>2. Sistemas de Coordenadas no QGIS</h3>

<p>Tal como a maioria dos softwares de SIG actualmente existentes, o QGIS lida com os sistemas de referência através das bibliotecas PROJ.4 e das bibliotecas GDAL. Por sua vez, estas 
   recorrem aos códigos EPSG (European Petroleum Survey Group, actualmente integrado no OGP Surveying and Positioning Committee) [12] [13], para identificar um grande número de sistemas de 
   coordenadas e transformações definidos nessa base de dados, de uma forma standard e compatível com o que é usado por diversas aplicações [8]. Os códigos e as transformações 
   disponibilizados pelo EPSG são regularmente actualizados de acordo com as alterações que lhe são solicitadas, uma vez que, como já se referiu anteriormente, esses parâmetros são 
   dependentes do conjunto de pontos utilizados, motivo que explica a existência de diferentes parâmetros de transformação envolvendo os mesmos sistemas e os mesmos métodos. Na maioria dos 
   casos, os novos parâmetros substituem os antigos.</p>
   
<p>Esta arquitectura facilita bastante a utilização e a integração dos sistemas de coordenadas, promovendo a interoperabilidade entre softwares. Assim, aquando da instalação, o QGIS 
   sincroniza a base de dados onde armazena os sistemas de coordenadas e as transformações com o GDAL e o PROJ.4. </p>
   
<p>Para o utilizador, todo este processo é totalmente transparente e apenas tem de se preocupar com duas coisas:</p>
<ul>
    <li>Sistema de referência do projecto QGIS</li>
    <li>Sistema de referência dos dados que vai utilizar</li>
</ul>

<p>Quanto ao primeiro, no menu <b>Configurações / Settings -> Opções&#8230; / Options&#8230; ->  separador SRC / CRS</b>, o utilizador pode definir o sistema de referência que pretende usar 
   por defeito, isto é, aquele que vai surgir atribuído ao projecto, sempre que abre o QGIS. A escolha deste parâmetro deverá depender dos dados com que normalmente trabalha. 
   No caso da imagem seguinte, o SRC definido por defeito é o PT-TM06/ETRS89 (EPSG:3763) porque a maioria dos dados com que se trabalha actualmente em Portugal continental, se encontra 
   nesse sistema.</p>
   
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/6_srs_projecto.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/6_srs_projecto.png" width="500"  alt="Definição dos sistemas de referência no QGIS">
    </a>
</div>

<p>A outra opção destacada na imagem anterior, está relacionada com a segunda questão com que o utilizador de informação geográfica terá sempre de se preocupar, que é o sistema  de 
   referência dos dados que vai utilizar. Essa importância advém do facto de não se poderem usar dados em diferentes sistemas, sem proceder a uma transformação. Sem essa noção, o utilizador
   pode, muitas vezes, ver-se confrontado com situações em que dados do mesmo local, obtidos por diversos métodos (levantamentos com GPS, digitalização sobre cartografia antiga, detecção 
   remota, etc.) ou a partir de diferentes fontes ou instituições, não ficam sobrepostos e/ou correctamente alinhados.</p>

<p>Efectivamente, existe em Portugal informação geográfica numa grande diversidade de sistemas de referência. Como exemplo, pode referir-se: muita cartografia geológica que se encontra 
   ainda no sistema de Bessel-Bonne datum Lisboa; a Carta Militar de Portugal Série M888 e cartografia produzida pelo Instituto da Conservação da Natureza e das Florestas, que utilizam o 
   sistema Hayford-Gauss Militar datum Lisboa; muita cartografia urbana de maior escala, produzida no sistema Hayford-Gauss datum 73; ou as últimas séries de ortofotomapas do ex-IGP, 
   bem como as últimas versões da Carta Administrativa Oficial de Portugal, produzidas no PT-TM06/ETRS89. Esta situação levanta problemas aos utilizadores menos experientes, quando tentam 
   sobrepor cartografia em sistemas de referência diferentes.</p>

<p>Assim, a opção seleccionada na imagem, faz com que, ao adicionar uma nova layer de informação (sempre que o QGIS não consiga detectar automaticamente o seu sistema de referência), seja 
   mostrada uma janela para o utilizador indicar qual o sistema de referência da layer que está a carregar no projecto QGIS.</p>

<p>A melhor forma de saber qual o sistema em que os dados se encontram, é procurar nos metadados disponibilizados pela entidade produtora. Uma outra opção, é procurar essa informação nos 
   próprios dados. Por exemplo, no caso de uma shapefile, que, como se sabe, é constituída por um conjunto de ficheiros com o mesmo nome (extensões .shp, .dbf, .shx, .qpj, .prj, etc.), 
   pode analisar-se, com um editor de texto, o conteúdo do ficheiro .prj: </p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='r'><span class='line'>PROJCS<span class="p">[</span><span class="s">&quot;ETRS89 / Portugal TM06&quot;</span><span class="p">,</span>
</span><span class='line'>    GEOGCS<span class="p">[</span><span class="s">&quot;ETRS89&quot;</span><span class="p">,</span>
</span><span class='line'>        DATUM<span class="p">[</span><span class="s">&quot;European_Terrestrial_Reference_System_1989&quot;</span><span class="p">,</span>
</span><span class='line'>            SPHEROID<span class="p">[</span><span class="s">&quot;GRS 1980&quot;</span><span class="p">,</span><span class="m">6378137</span><span class="p">,</span><span class="m">298.257222101</span><span class="p">,</span>
</span><span class='line'>                AUTHORITY<span class="p">[</span><span class="s">&quot;EPSG&quot;</span><span class="p">,</span><span class="s">&quot;7019&quot;</span><span class="p">]],</span>
</span><span class='line'>            TOWGS84<span class="p">[</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">],</span>
</span><span class='line'>            AUTHORITY<span class="p">[</span><span class="s">&quot;EPSG&quot;</span><span class="p">,</span><span class="s">&quot;6258&quot;</span><span class="p">]],</span>
</span><span class='line'>        PRIMEM<span class="p">[</span><span class="s">&quot;Greenwich&quot;</span><span class="p">,</span><span class="m">0</span><span class="p">,</span>
</span><span class='line'>            AUTHORITY<span class="p">[</span><span class="s">&quot;EPSG&quot;</span><span class="p">,</span><span class="s">&quot;8901&quot;</span><span class="p">]],</span>
</span><span class='line'>        UNIT<span class="p">[</span><span class="s">&quot;degree&quot;</span><span class="p">,</span><span class="m">0.0174532925199433</span><span class="p">,</span>
</span><span class='line'>            AUTHORITY<span class="p">[</span><span class="s">&quot;EPSG&quot;</span><span class="p">,</span><span class="s">&quot;9122&quot;</span><span class="p">]],</span>
</span><span class='line'>        AUTHORITY<span class="p">[</span><span class="s">&quot;EPSG&quot;</span><span class="p">,</span><span class="s">&quot;4258&quot;</span><span class="p">]],</span>
</span><span class='line'>    PROJECTION<span class="p">[</span><span class="s">&quot;Transverse_Mercator&quot;</span><span class="p">],</span>
</span><span class='line'>    PARAMETER<span class="p">[</span><span class="s">&quot;latitude_of_origin&quot;</span><span class="p">,</span><span class="m">39.66825833333333</span><span class="p">],</span>
</span><span class='line'>    PARAMETER<span class="p">[</span><span class="s">&quot;central_meridian&quot;</span><span class="p">,</span><span class="m">-8.133108333333334</span><span class="p">],</span>
</span><span class='line'>    PARAMETER<span class="p">[</span><span class="s">&quot;scale_factor&quot;</span><span class="p">,</span><span class="m">1</span><span class="p">],</span>
</span><span class='line'>    PARAMETER<span class="p">[</span><span class="s">&quot;false_easting&quot;</span><span class="p">,</span><span class="m">0</span><span class="p">],</span>
</span><span class='line'>    PARAMETER<span class="p">[</span><span class="s">&quot;false_northing&quot;</span><span class="p">,</span><span class="m">0</span><span class="p">],</span>
</span><span class='line'>    UNIT<span class="p">[</span><span class="s">&quot;metre&quot;</span><span class="p">,</span><span class="m">1</span><span class="p">,</span>
</span><span class='line'>        AUTHORITY<span class="p">[</span><span class="s">&quot;EPSG&quot;</span><span class="p">,</span><span class="s">&quot;9001&quot;</span><span class="p">]],</span>
</span><span class='line'>    AXIS<span class="p">[</span><span class="s">&quot;X&quot;</span><span class="p">,</span>EAST<span class="p">],</span>
</span><span class='line'>    AXIS<span class="p">[</span><span class="s">&quot;Y&quot;</span><span class="p">,</span>NORTH<span class="p">],</span>
</span><span class='line'>    AUTHORITY<span class="p">[</span><span class="s">&quot;EPSG&quot;</span><span class="p">,</span><span class="s">&quot;3763&quot;</span><span class="p">]]</span>
</span></code></pre></td></tr></table></div></figure>

<p>Aí obtém-se a informação de que se necessita, nomeadamente a indicação sobre o datum, o elipsóide, a projecção e as unidades, para determinar se a layer pode ser usada directamente em 
   conjunto com outras, ou se é necessário proceder a alguma transformação. </p>

<p>Estando na posse desta informação, a utilização do QGIS torna-se bastante simples e livre de equívocos.</p>

<p>No canto inferior direito da janela do QGIS, está sempre disponível a indicação do sistema de referência do projecto.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/7_srs_projecto_qgis.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/7_srs_projecto_qgis.png" width="500"  alt="Indicação do sistema de referência do projecto no QGIS">
    </a>
</div>

<p>Quando essa indicação se encontra a cinzento, como é o caso da imagem anterior, significa que todos os dados se encontram no mesmo sistema de referência do projecto.</p>

<p>Quando se carrega no projecto uma layer num sistema de referência diferente, a informação do sistema de referência do projecto fica a preto, o que significa que foi activada a 
   transformação &#8216;on the fly&#8217;. Os parâmetros utilizados nesta transformação, são os predefinidos pelas bibliotecas GDAL e PROJ.4, que o QGIS importa durante a instalação.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/8_srs_projecto_qgis_onthefly.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/8_srs_projecto_qgis_onthefly.png" width="500"  alt="Activar transformação de SRC on the fly">
    </a>
</div>

<p>Para averiguar qual o método de transformação e os respectivos parâmetros utilizados, na tabela de conteúdos, clica-se com o botão direito do rato sobre a layer e escolhe-se 
   “Definir SRC da camada” / “Set layer CRS”. </p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/9_srs_projecto_qgis_onthefly_parametros.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/9_srs_projecto_qgis_onthefly_parametros.png" width="500"  alt="Visualização do método de transformação usado e seus parâmetros">
    </a>
</div>

<p>Verifica-se que, neste caso, se processa uma transformação de 3 parâmetros (Molodensky), com os valores de conversão para datum WGS84 (destacados a vermelho) visíveis na string proj.</p>

<p>Para transformar esta layer no datum Lisboa, de forma permanente, para ETRS89, basta clicar com o botão direito do rato sobre a layer na tabela
   de conteúdos, escolher <b>Guardar como&#8230; / Save as&#8230;</b> e seleccionar o sistema de referência de destino, neste caso, o PT-TM06/ETRS89 (EPSG:3763). O método e os parâmetros 
   utilizados nessa transformação, são os mesmos da transformação <i>on the fly</i>.</p>

<p>Deste modo, o QGIS permite aos utilizadores visualizar informação em diferentes sistemas de referência, com grande facilidade. Aliás, este processo é de tal forma simplificado pelo 
   QGIS que pode até levar a que os utilizadores menos experientes não se apercebam que os dados têm sistemas de coordenadas distintos. E os parâmetros utilizados pelo QGIS, por defeito,
   são suficientes para a maioria das utilizações.</p>

<p>Contudo, como se viu na introdução, existem métodos mais precisos que outros e parâmetros que conduzem a resultados mais rigorosos que outros, para determinadas áreas do território. 
   Assim, nos capítulos seguintes vai apresentar-se a forma de configurar novos sistemas de referência no QGIS, nomeadamente utilizando as grelhas NTv2 de transformação de coordenadas.</p>

<p id="3">&nbsp;</p><p>&nbsp;</p>
<h3>3. Transformações de Coordenadas <i>On The Fly</i> no QGIS, usando as grelhas NTv2 de Portugal continental</h3>

<p>A partir da versão 2.2 do QGIS, foi introduzida uma nova ferramenta, designada Datum Transformation, que veio facilitar a utilização dos diversos métodos de transformação de coordenadas, 
   especialmente o método das grelhas, cuja implementação nos softwares de SIG é ainda recente.</p>
   
<h4>Configuração das transformações &#8216;on the fly&#8217; de datum no QGIS para Portugal continental</h4>

<ol>
    <li>O primeiro passo consiste em descarregar os ficheiros das grelhas NTv2 dos sites do prof. José Alberto Gonçalves e da DGT:</li>
        <ul>
            <li><a href="http://www.fc.up.pt/pessoas/jagoncal/coordenadas/parte1.htm" target="_blank">http://www.fc.up.pt/pessoas/jagoncal/coordenadas/parte1.htm</a></li>
            <li><a href="http://www.dgterritorio.pt/cartografia_e_geodesia/geodesia/transformacao_de_coordenadas/grelhas_em_ntv2/" target="_blank">http://www.dgterritorio.pt/cartografia_e_geodesia/geodesia/transformacao_de_coordenadas/grelhas_em_ntv2/</a></li>
        </ul>
        <p>Para facilitar, essas grelhas podem ser descarregadas a partir daqui: <a href="http://qgis.pt/blog/images/dados/grelhas.zip" target="_blank">grelhas.zip</a></p>
    <li>Os ficheiros das grelhas (.gsb) obtidos em 1) colocam-se na pasta utilizada pelo PROJ.4, cuja localização vai depender do Sistema Operativo utilizado e do modo como o QGIS foi 
        instalado:</li>
        <ul>
            <li>Em Linux, os ficheiros das grelhas colocam-se na pasta <b><i>/usr/share/proj</i></b></li>
            <li>Em Windows, tendo usado o instalador OSGeo4W, os ficheiros colocam-se na pasta <b><i>..\OSGeo4W\share\proj</i></b></li>
            <li>Ainda em Windows, tendo usado o instalador standalone, os ficheiros colocam-se na pasta <b><i>..\Program Files\QGIS Chugiak\share\proj</i></b></li>
            <li>Uma outra alternativa é verificar a path da variável de ambiente PROJ_LIB e colocar os ficheiros nessa pasta</li>
        </ul>
        <div class="post-img">
            <a href="http://qgis.pt/blog/images/posts/10_grelhas_pasta_proj.png" rel="prettyPhoto" title="">
                <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/10_grelhas_pasta_proj.png" width="500"  alt="Colocação das grelhas nas pastas adequadas">
            </a>
        </div>
    <li>De seguida, substitui-se a base de dados srs.db que se encontra na pasta /resources, dentro da pasta de instalação do QGIS, por esta: <a href="http://qgis.pt/blog/images/dados/srs_db.zip" target="_blank">srs_db.zip</a> </li>
        <ul>
            <li>Em Linux, a pasta <b><i>/resources</i></b> encontra-se em <b><i>/usr/share/qgis/resources/</i></b></li>
            <li>Em Windows, tendo usado o instalador OSGeo4W, a pasta <b><i>\resources</i></b> encontra-se em <b><i>..\OSGeo4W\apps\QGIS\resources\</i></b></li>
            <li>Tendo usado o instalador standalone, a pasta <b><i>\resources</i></b> encontra-se em <b><i>..\Program Files\QGIS Chugiak\resources\</i></b></li>
        </ul>
        <div class="post-img">
            <a href="http://qgis.pt/blog/images/posts/11_srs_pasta_resources.png" rel="prettyPhoto" title="">
                <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/11_srs_pasta_resources.png" width="500"  alt="Colocação da base de dados de sistemas de referência na pasta adequada">
            </a>
        </div>
        <p>Basicamente, essa base de dados é substituída para evitar confusões nos utilizadores portugueses e disponibilizar apenas os últimos conjuntos de parâmetros de transformação de Bursa-Wolf
           e de Molodensky fornecidos pela DGT [9], bem como as grelhas NTv2 da DGT [11] e do  prof. José Alberto Gonçalves [14].</p>
    <li>Já no QGIS, no menu <b><i>Configurações / Settings -> Opções&#8230; / Options&#8230; -> separador SRC / CRS</i></b> e activa-se a opção <b><i>Transformações de datum padrão / Default datum
        transformations -> Perguntar pela transformação de datum quando não for definido um padrão / Ask for datum transformation when no default is defined</i></b>. Nesse mesmo separador, 
        selecciona-se a opção <b><i>Habilitar automaticamente a reprojeção on the fly se as camadas tiverem diferentes SRC / Automatically enable on the fly reprojection if layers have 
        different CRS</i></b></li>
        <div class="post-img">
            <a href="http://qgis.pt/blog/images/posts/12_configurar_datum_transformation.png" rel="prettyPhoto" title="">
                <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/12_configurar_datum_transformation.png" width="500"  alt="Configuração das transformações de datum">
            </a>
        </div>
    <li>A partir deste momento, sempre que se carregue informação geográfica (vectores, rasters, wms, wfs, postgis, etc.) no QGIS que se encontre em data diferentes, é aberta uma janela 
        que vai permitir seleccionar o método de transformação (Bursa-Wolf / Molodensky / Grelhas NTv2). A escolha vai depender da vontade de cada utilizador, mas deve basear-se naquilo 
        que é referido na introdução deste texto.</li>
</ol>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/13_janela_datum_transformation.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/13_janela_datum_transformation.png" width="500"  alt="Janela da transformação de datum">
    </a>
</div>

<p>No exemplo da imagem anterior, carregou-se a layer da Rede Geodésica Nacional no ETRS89. De seguida, carregou-se uma outra layer da Rede Geodésica Nacional, mais antiga, no datum 73. 
   O QGIS detectou automaticamente que as layers se encontram em sistemas de referência diferentes e apresentou a janela do Datum Transformation, com as 4 possibilidades de transformação 
   da layer no datum 73 para o ETRS89: método de Bursa-Wolf, método de Molodensky, grelhas NTv2 da DGT e grelhas NTv2 do prof. José Alberto Gonçalves. Na metade inferior da janela aparece  
   uma breve descrição de cada um dos métodos, bem como informação acerca do rigor de cada uma das transformações.</p>

<p>O utilizador pode optar por qualquer um dos métodos disponibilizados e pode, inclusivamente, predefinir esse método para que, no futuro, quando surgirem dados que impliquem a mesma 
   transformação, o QGIS a seleccione por defeito.</p>

<p>Ao confirmar, o QGIS activa a transformação &#8216;on the fly&#8217; e usa o método de transformação escolhido.</p>

<p>Tal como se referiu anteriormente, as transformações são definidas entre um datum local e um datum global. Este facto vai permitir executar transformações imediatas entre dois data 
   locais, sendo que o Datum Transformation se encarrega de proceder à passagem intermédia pelo datum global (comum a ambos). Deste modo, quando se carrega uma layer no datum 73 e outra 
   no datum Lisboa, num projecto QGIS, o Datum Transformation apresenta todas as possíveis combinações de métodos de transformação entre o datum Lisboa e o WGS84, e o datum 73 e o WGS84. 
   Assim, é realizada uma transformação do datum Lisboa para WGS84 e, deste, para o datum 73, permitindo fazer a transformação entre esses dois data locais pelo método das grelhas, mesmo 
   sem estas terem sido geradas através do cálculo das diferenças de longitude e latitude entre si, mas sim de cada um dos data locais para WGS84/ETRS89.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/14_datum_lx_para_d73.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/14_datum_lx_para_d73.png" width="500"  alt="Transformação de Datum Lisboa para Datum 73">
    </a>
</div>

<p>Uma questão muito importante, que é necessário ter presente, é que este tipo de transformação &#8216;on the fly&#8217; é uma transformação em tempo real, isto é, a transformação é feita sobre os 
   dados na sua forma original. Por exemplo, no caso anteriormente apresentado, as layers da Rede Geodésica Nacional mantiveram as suas propriedades originais, a primeira no sistema de 
   referência PT-TM06/ETRS89 (EPSG:3763) e a segunda no sistema de referência Hayford-Gauss datum 73 (EPSG:27493). Por outras palavras, não houve qualquer alteração dos 
   ficheiros armazenados no disco / base de dados. Este procedimento é bastante útil e prático para efeitos de visualização, mas não é suficiente quando o objectivo é efectuar 
   análise espacial e cruzamento de informação entre dados em data diferentes. Para esse efeito, é indispensável ter os dados no mesmo sistema de referência, ou seja, no caso anterior, 
   era necessário guardar uma nova layer no disco, transformada do datum 73 para ETRS89. Esse procedimento também é bastante simples no QGIS, mas implica a utilização de 
   <b><i>SRC Personalizados / Custom CRS</i></b>, isto é, têm de se criar novos sistemas de referência que incluam os parâmetros de transformação entre o datum local e um datum global, 
   neste caso, o WGS84.</p>

<p id="4">&nbsp;</p><p>&nbsp;</p>
<h3>4. Transformações de Coordenadas no QGIS usando as grelhas NTv2 de Portugal continental – Sistemas de Referência Personalizados</h3>

<p>Esta segunda forma de transformação de coordenadas no QGIS permite a criação de layers no novo sistema de referência, usando um dos métodos apresentados anteriormente.</p>

<h4>Configuração das transformações de datum no QGIS para Portugal continental através da criação de Sistemas de Referência Personalizados</h4>

<p>Os dois primeiros passos descritos de seguida são exactamente os mesmos que se efectuaram no procedimento de configuração das transformações <i>on the fly</i>, pelo que, se já os tiverem 
   realizado, podem passar para o passo 3.</p>

<ol>
    <li>O primeiro passo consiste em descarregar os ficheiros das grelhas NTv2 dos sites do prof. José Alberto Gonçalves e da DGT:</li>
        <ul>
            <li><a href="http://www.fc.up.pt/pessoas/jagoncal/coordenadas/parte1.htm" target="_blank">http://www.fc.up.pt/pessoas/jagoncal/coordenadas/parte1.htm</a></li>
            <li><a href="http://www.dgterritorio.pt/cartografia_e_geodesia/geodesia/transformacao_de_coordenadas/grelhas_em_ntv2/" target="_blank">http://www.dgterritorio.pt/cartografia_e_geodesia/geodesia/transformacao_de_coordenadas/grelhas_em_ntv2/</a></li>
        </ul>
        <p>Para facilitar, essas grelhas podem ser descarregadas a partir daqui: <a href="http://qgis.pt/blog/images/dados/grelhas.zip" target="_blank">grelhas.zip</a></p>
    <li>Os ficheiros das grelhas (.gsb) obtidos em 1) colocam-se na pasta utilizada pelo PROJ.4, cuja localização vai depender do Sistema Operativo utilizado e do 
        modo como o QGIS foi instalado</li>
        <ul>
            <li>Em Linux, os ficheiros das grelhas colocam-se na pasta <b><i>/usr/share/proj</i></b></li>
            <li>Em Windows, tendo usado o instalador OSGeo4W, os ficheiros colocam-se na pasta <b><i>..\OSGeo4W\share\proj</i></b></li>
            <li>Ainda em Windows, tendo usado o instalador standalone, os ficheiros colocam-se na pasta <b><i>..\Program Files\QGIS Chugiak\share\proj</i></b></li>
            <li>Uma outra alternativa é verificar a <i>path</i> da variável de ambiente PROJ_LIB e colocar os ficheiros nessa pasta</li>
        </ul>
    <li>No QGIS -> menu <b><i>Configurações / Settings -> SRC Personalizado&#8230; / Custom CRS&#8230;</i></b>, cria-se um novo sistema de referência 
        (<b><i>Adicionar novo SRC / Add New CRS</i></b>) com a seguinte definição:</li>
        <ul>
            <li><b>Nome:</b> Datum_Lisboa_Hayford_Gauss_Militar_Grelhas_JAG_20790</li>
            <li><b>Parâmetros:</b> +proj=tmerc +lat_0=39.66666666666666 +lon_0=1 +k=1 +x_0=200000 +y_0=300000 +ellps=intl +nadgrids=ptLX_e89.gsb +wktext +pm=lisbon +units=m +no_defs</li>
        </ul>
        <div class="post-img">
            <a href="http://qgis.pt/blog/images/posts/15_src_personalizado.png" rel="prettyPhoto" title="">
                <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/15_src_personalizado.png" width="500"  alt="Configuração de SRC personalizado">
            </a>
        </div>
    <li>Criam-se, da forma descrita anteriormente, tantos SRC personalizados quantos se necessite. De seguida disponibilizam-se os que, eventualmente, serão mais utilizados em Portugal continental:</li>
    <table class="table">
        <tr>
            <td rowspan="2">1.</td>
            <td><b>Nome:</b></td>
            <td>Datum_Lisboa_Hayford_Gauss_Grelhas_JAG_20791</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=1 +k=1 +x_0=0 +y_0=0 +ellps=intl +nadgrids=ptLX_e89.gsb +wktext +pm=lisbon +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">2.</td>
            <td><b>Nome:</b></td>
            <td>Datum73_Hayford_Gauss_Grelhas_JAG_27493</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112 +k=1 +x_0=180.598 +y_0=-86.99 +ellps=intl +nadgrids=pt73_e89.gsb +wktext +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">3.</td>
            <td><b>Nome:</b></td>
            <td>Datum73_Hayford_Gauss_Militar_Grelhas_JAG</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112 +k=1 +x_0=200180.598 +y_0=299913.01 +ellps=intl +nadgrids=pt73_e89.gsb +wktext +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">4.</td>
            <td><b>Nome:</b></td>
            <td>UTM_29N_ED50_Grelhas_JAG_23029</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=utm +zone=29 +ellps=intl +nadgrids=ptED_e89.gsb +wktext +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">5.</td>
            <td><b>Nome:</b></td>
            <td>Datum_Lisboa_Hayford_Gauss_Militar_Grelhas_DGT_20790 </td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=1 +k=1 +x_0=200000 +y_0=300000 +ellps=intl +nadgrids=DLX_ETRS89_geo.gsb +wktext +pm=lisbon +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">6.</td>
            <td><b>Nome:</b></td>
            <td>Datum_Lisboa_Hayford_Gauss_Grelhas_DGT_20791</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=1 +k=1 +x_0=0 +y_0=0 +ellps=intl +nadgrids=DLX_ETRS89_geo.gsb +wktext +pm=lisbon +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">7.</td>
            <td><b>Nome:</b></td>
            <td>Datum73_Hayford_Gauss_Grelhas_DGT_27493</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112 +k=1 +x_0=180.598 +y_0=-86.99 +ellps=intl +nadgrids=D73_ETRS89_geo.gsb +wktext +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">8.</td>
            <td><b>Nome:</b></td>
            <td>Datum73_Hayford_Gauss_Militar_Grelhas_DGT</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112 +k=1 +x_0=200180.598 +y_0=299913.01 +ellps=intl +nadgrids=D73_ETRS89_geo.gsb +wktext +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">9.</td>
            <td><b>Nome:</b></td>
            <td>Datum_Lisboa_Hayford_Gauss_Militar_Bursa_Wolf_DGT_20790</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=1 +k=1 +x_0=200000 +y_0=300000 +ellps=intl +towgs84=-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058 +pm=lisbon +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">10.</td>
            <td><b>Nome:</b></td>
            <td>Datum_Lisboa_Hayford_Gauss_Bursa_Wolf_DGT_20791</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=1 +k=1 +x_0=0 +y_0=0 +ellps=intl +towgs84=-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058 +pm=lisbon +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">11.</td>
            <td><b>Nome:</b></td>
            <td>Datum73_Hayford_Gauss_Bursa_Wolf_DGT_27493</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112 +k=1 +x_0=180.598 +y_0=-86.99 +ellps=intl +towgs84=-230.994,102.591,25.199,0.633,-0.239,0.900,1.950 +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">12.</td>
            <td><b>Nome:</b></td>
            <td>Datum_Lisboa_Hayford_Gauss_Militar_Molodensky_DGT_20790</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=1 +k=1 +x_0=200000 +y_0=300000 +ellps=intl +towgs84=-303.861,-60.693,103.607 +pm=lisbon +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">13.</td>
            <td><b>Nome:</b></td>
            <td>Datum_Lisboa_Hayford_Gauss_Molodensky_DGT_20791</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=1 +k=1 +x_0=0 +y_0=0 +ellps=intl +towgs84=-303.861,-60.693,103.607 +pm=lisbon +units=m +no_defs</td>
        </tr>
        <tr>
            <td rowspan="2">13.</td>
            <td><b>Nome:</b></td>
            <td>Datum73_Hayford_Gauss_Molodensky_DGT_27493</td>
        </tr>
        <tr>
            <td><b>Parâmetros:</b></td>
            <td>+proj=tmerc +lat_0=39.66666666666666 +lon_0=-8.131906111111112 +k=1 +x_0=180.598 +y_0=-86.99 +ellps=intl +towgs84=-223.150,110.132,36.711 +units=m +no_defs</td>
        </tr>
    </table>
    <p>Em alternativa à introdução manual, disponibiliza-se uma versão da base de dados qgis.db, com os <b><i>Custom CRS</i></b> já introduzidos: <a href="http://qgis.pt/blog/images/dados/qgis_db.zip" target="_blank">qgis_db.zip</a></p>

    <p>Este ficheiro deve substituir os ficheiros com o mesmo nome que se encontram na pasta <b><i>/resources</i></b> e na pasta QGIS do utilizador (.qgis2):</p>

    <ul>
        <li>../resources/qgis.db:</li>
            <ol>
                <li>Em Linux, a pasta <b><i>/resources</i></b> encontra-se em <b><i>/usr/share/qgis/resources/</i></b></li>
                <li>Em Windows, tendo usado o instalador OSGeo4W, a pasta <b><i>\resources</i></b> encontra-se em <b><i>..\OSGeo4W\apps\QGIS\resources\</i></b></li>
                <li>Tendo usado o instalador standalone, a pasta <b><i>\resources</i></b> encontra-se em <b><i>..\Program Files\QGIS Chugiak\resources\</i></b></li>
            </ol>
        <li>~/.qgis2/qgis.db:</li>
            <ol>
                <li>Em Linux, a pasta <b><i>/.qgis2</i></b> encontra-se em <b><i>/home/nome_do_utilizador/.qgis2/</i></b></li>
                <li>Em Windows, a pasta <b><i>&#46;qgis2</i></b> encontra-se em <b><i>C:\Users\nome_do_utilizador&#46;qgis2\</i></b></li>
            </ol>
    </ul>

    <p>A base de dados qgis.db surge em dois locais diferentes porque, na primeira vez, após a instalação, que cada utilizador do computador corre o QGIS, é criada uma pasta denominada .qgis2 
       na sua pasta pessoal. Esta inclui uma qgis.db, que é cópia da base de dados existente em ../resources/qgis.db. Ou seja, se esta última estiver vazia, é criada uma cópia vazia na pasta 
       do utilizador. Se tiver alguma informação, a cópia na pasta do utilizador vai ficar com esse conteúdo. </p>

    <p>O problema é que, uma vez criada, a ~/.qgis2/qgis.db não é mais alterada por esta via. Ou seja, mesmo colocando uma versão já com os <b><i>Custom CRS</i></b> em /resources/qgis.db, 
       estes não aparecem no QGIS. Só irão aparecer se novos utilizadores do computador arrancarem o QGIS a partir das suas contas pessoais.</p>
       
    <p>Por esse motivo, quem já utiliza o QGIS, necessita de substituir ~/.qgis2/qgis.db pela versão fornecida, tendo em atenção que é também nessa base de dados que ficam guardados os 
       bookmarks do utilizador. Assim, se tiverem bookmarks criados, ao fazerem a substituição, irão perdê-los. </p>
       
    <div class="post-img">
        <a href="http://qgis.pt/blog/images/posts/16_src_personalizados.png" rel="prettyPhoto" title="">
            <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/16_src_personalizados.png" width="500"  alt="Janela dos SRC">
        </a>
    </div>
       
    <li>Tome-se agora, como exemplo, a layer da Rede Geodésica Nacional no Hayford-Gauss datum 73 e imagine-se que se pretende transformá-la, de forma permanentemente, para o ETRS89.</li>
        <ul>
            <li>Começa por se carregar essa layer no QGIS</li>
            <li>Por defeito, ela vai assumir o sistema de referência em que foi produzida, neste caso, o datum 73 com a definição do PROJ.4 (EPSG:27493)</li>
            <li>Para se usarem as grelhas, por exemplo da DGT, na transformação, é necessário indicar ao QGIS o sistema que tem, nos parâmetros de transformação, as grelhas (parâmetro 
                +nadgrids), ou seja, atribui-se à layer o sistema de referência correspondente, que se criou no passo 4</li>
            <li>Para isso, na tabela de conteúdos, clica-se com o botão direito do rato sobre a layer e escolhe-se <b><i>Definir SRC da camada / Set layer CRS</i></b>. Dentro dos 
                <b><i>Sistemas de Coordenadas definidos pelo utilizadores / User Defined Coordinate Systems</i></b>, escolhe-se o Datum73_Hayford_Gauss_Grelhas_DGT_27493</li>
                <div class="post-img">
                    <a href="http://qgis.pt/blog/images/posts/17_set_user_defined_crs.png" rel="prettyPhoto" title="">
                        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/17_set_user_defined_crs.png" width="500"  alt="Definir o SRC personalizado">
                    </a>
                </div>
            <li>De seguida, clica-se novamente com o botão direito do rato sobre a layer e escolhe-se <b><i>Guardar como&#8230; / Save as&#8230;</i></b>. Na janela que se abre, escolhe-se o 
                formato de saída, dá-se o caminho para guardar a nova layer e selecciona-se o sistema de referência de destino, neste caso, o PT-TM06/ETRS89. Ao clicar em <b><i>Ok</i></b>, 
                a layer é guardada no novo sistema de referência.</li>
                <div class="post-img">
                    <a href="http://qgis.pt/blog/images/posts/18_janela_guardar_como.png" rel="prettyPhoto" title="">
                        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/18_janela_guardar_como.png" width="500"  alt="Janela Guardar camada como">
                    </a>
                </div>
                <p>Este procedimento pode ser executado em lote, para várias layers em simultâneo, através da ferramenta <b><i>Reproject layer</i></b> do Processing [15].</p>
            <li>Para confirmar a transformação, pode abrir-se um novo projecto QGIS e carregar a layer acabada de transformar e a layer da Rede Geodésica Nacional em ETRS89.</li>
                <div class="post-img">
                    <a href="http://qgis.pt/blog/images/posts/19_erro_grelhas_dgt_vg_pinhel.png" rel="prettyPhoto" title="">
                        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/19_erro_grelhas_dgt_vg_pinhel.png" width="500"  alt="Erros associados à transformação">
                    </a>
                </div>
                <p>Na imagem consegue perceber-se que o erro na transformação com a grelha NTv2 da DGT, por exemplo, para o caso do vértice geodésico “Pinhel” foi de, aproximadamente, 
                   2.5mm. O que é um resultado excelente.</p>
                   
                <p>Para testar, em simultâneo, a transformação <b><i>on the fly</i></b>, carrega-se a layer original no datum 73 e escolhe-se a mesma grelha na janela do Datum 
                   Transformation. O resultado, visível na imagem seguinte, é elucidativo do bom funcionamento de ambas as formas de transformação presentes no QGIS, atendendo a que os 
                   pontos (estrela verde e círculo azul) surgem sobrepostos.</p>
                
                 <div class="post-img">
                    <a href="http://qgis.pt/blog/images/posts/20_erro_grelhas_dgt_vg_pinhel_datum_transf.png" rel="prettyPhoto" title="">
                        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/20_erro_grelhas_dgt_vg_pinhel_datum_transf.png" width="500"  alt="Erros associados à transformação">
                    </a>
                </div>


        </ul>
</ol>

<p>Desta forma, o utilizador dispõe agora dos melhores métodos de transformação dos sistemas de coordenadas nacionais antigos para o ETRS89, e pode efectuar essas operações, com grande 
   facilidade, no QGIS.</p>

<p id="5">&nbsp;</p><p>&nbsp;</p>   
<h3>5. Referências</h3>
<p>[1] Matos, J. (2008). “Fundamentos de Informação Geográfica” . 5ª Edição. Lisboa: Lidel</p>
<p>[2] <a class="wrap-url" href="http://www3.nfb.ca/animation/objanim/en/films/film.php?sort=title&id=14229" target="_blank">http://www3.nfb.ca/animation/objanim/en/films/film.php?sort=title&id=14229</a></p>
<p>[3] <a class="wrap-url" href="http://www.esa.int/spaceinimages/Images/2011/03/New_GOCE_geoid " target="_blank">http://www.esa.int/spaceinimages/Images/2011/03/New_GOCE_geoid </a></p>
<p>[4] <a class="wrap-url" href="http://www.aprh.pt/rgci/glossario/elipsoide-de-referencia.html." target="_blank">http://www.aprh.pt/rgci/glossario/elipsoide-de-referencia.html.</a></p>
<p>[5] Gonçalves, J., 2008. Adopção de Sistemas de Referenciação Geográfica Globais. ESIG2008 (<a class="wrap-url" href="http://www.fc.up.pt/pessoas/jagoncal/coordenadas/paper_esig2008.pdf" target="_blank">http://www.fc.up.pt/pessoas/jagoncal/coordenadas/paper_esig2008.pdf</a>)</p>
<p>[6] Fernandes, M., 2008. Cartografia - programa, conteúdos e métodos de ensino. FLUP (<a class="wrap-url" href="http://ler.letras.up.pt/uploads/ficheiros/5901.pdf" target="_blank">http://ler.letras.up.pt/uploads/ficheiros/5901.pdf</a>)</p>
<p>[7] Gonçalves, J., 2009. Conversões de Sistemas de Coordenadas Nacionais para ETRS89 Utilizando Grelhas. VI CNCG (<a class="wrap-url" href="http://www.fc.up.pt/pessoas/jagoncal/coordenadas/paper_cncg2009.pdf" target="_blank">http://www.fc.up.pt/pessoas/jagoncal/coordenadas/paper_cncg2009.pdf</a>)</p>
<p>[8] Gonçalves, J., 2008. Conversões de coordenadas com o programa PROJ - Método de conversão com grelhas. SASIG2008 (<a class="wrap-url" href="http://www.fc.up.pt/pessoas/jagoncal/coordenadas/paper_sasig2009.pdf" target="_blank">http://www.fc.up.pt/pessoas/jagoncal/coordenadas/paper_sasig2009.pdf</a>)</p>
<p>[9] <a class="wrap-url"href="http://www.dgterritorio.pt/cartografia_e_geodesia/geodesia/transformacao_de_coordenadas/parametros_de_transformacao_de_coordenadas/" target="_blank">http://www.dgterritorio.pt/cartografia_e_geodesia/geodesia/transformacao_de_coordenadas/parametros_de_transformacao_de_coordenadas/</a></p>
<p>[10] <a class="wrap-url" href="http://nsnig.igeo.pt/eventos/comunicacoes/Caldas_da_Rainha/CNCG2009-AnaBernardes.pdf" target="_blank">http://nsnig.igeo.pt/eventos/comunicacoes/Caldas_da_Rainha/CNCG2009-AnaBernardes.pdf</a></p>
<p>[11] <a class="wrap-url" href="http://www.dgterritorio.pt/cartografia_e_geodesia/geodesia/transformacao_de_coordenadas/grelhas_em_ntv2/" target="_blank">http://www.dgterritorio.pt/cartografia_e_geodesia/geodesia/transformacao_de_coordenadas/grelhas_em_ntv2/</a></p>
<p>[12] <a class="wrap-url" href="http://www.epsg.org/" target="_blank">http://www.epsg.org/</a></p>
<p>[13] <a class="wrap-url" href="http://epsg.io/" target="_blank">http://epsg.io/</a></p>
<p>[14] <a class="wrap-url" href="http://www.fc.up.pt/pessoas/jagoncal/coordenadas/parte1.htm" target="_blank">http://www.fc.up.pt/pessoas/jagoncal/coordenadas/parte1.htm</a></p>
<p>[15] <a class="wrap-url" href="http://qgis.pt/workshops_qgis2014/ws_processing_qgis_day_2014.pdf" target="_blank">http://qgis.pt/workshops_qgis2014/ws_processing_qgis_day_2014.pdf</a></p>

<br />
<img class="gravatar img-circle" src="http://www.gravatar.com/avatar/8248cd896ad16c4ef53d0558d8e62a18></img>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Acções Em Python No QGIS]]></title>
    <link href="http://qgis.pt/2014/06/18/accoes-em-python-no-qgis/"/>
    <updated>2014-06-18T20:31:10+01:00</updated>
    <id>http://qgis.pt/2014/06/18/accoes-em-python-no-qgis</id>
    <content type="html"><![CDATA[<p>Este artigo demonstra como se podem rapidamente usar Acções para criar um projecto com tarefas desenvolvidas à medida em Python.</p>
<!-- more -->

<h3>Introdução às Acçções em Python</h3>
<p>Acções no QGIS permitem que o utilizador defina, para um tema, tarefas que serão despoletadas pelo utilizador. A grande utilidade das acções é que usam os valores dos 
atributos dos vectores desse tema para executar a tarefa. Assim, podemos definir uma acção que abre um documento cujo nome é obtido de um atributo. Podemos, por exemplo, abrir a 
fotografia de uma caixa de visita numa rede de águas. As acções podem ser despoletadas quando o utilizador usa a janela de identificação, a tabela de atributos, ou o botão de acções. 
Mais informação pode ser obtida no <a href="http://docs.qgis.org/2.2/pt_PT/docs/user_manual/working_with_vector/vector_properties.html#actions-menu" target="_blank">manual de utilizador</a>.</p>

<p>Este artigo não é um tutorial aprofundado sobre acções do QGIS, pretende apenas demonstrar um caso de utilização de acções programadas em Python. Acções em Python são apenas uma 
das formas de criar acções. Outros tipos de acções que não usam programação são também possíveis.</p>

<p>Para começar a explorar a forma de criar acções, pode ver um conjunto de acções pré-definidas que estão incluídas no QGIS. Para isso, basta abrir as propriedades de um tema, e 
clicar na secção Acções. Aqui, pode clicar no botão “Adicionar acções pré-definidas”.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/2_acoes_highlight.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/2_acoes_highlight.png" width="500"  alt="Criação de novas acções">
    </a>
</div>

<p>Esta é uma forma de aprender rapidamente como se criam acções. Uma das acções permite abrir uma página na web com o endereço criado a partir de um campo da tabela de atributos. 
Outra, mais interessante para o nosso artigo, é composta por uma linha de código Python que mostra o número do registo automático ao clicar sobre um elemento desse tema:</p>


<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/3_acoes_id_elemento.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/3_acoes_id_elemento.png" width="500"  alt="Acção para obter o ID do registo">
    </a>
</div>

<p>Como em todas as acções, esta estará disponível em 3 locais: janela de identificação, janela de atributos, e ao clicar no mapa quando activamos a acção no menu de acções. 
Esta última possibilidade é a mais útil neste caso, porque permite ao clicar no mapa obter uma janela com apenas a informação que precisamos, ao invés da janela de identificação 
genérica com todos os atributos.</p>


<h3>Caso Prático</h3>
<p>Avançando… o problema que se pretende resolver é o seguinte: 
tendo um tema de cadastro e uma tabela de proprietários, como selecionar na tabela um proprietário e visualizar os seus prédios no tema, de forma simples para utilizadores que não 
conhecem QGIS?</p>

<p>Claro que o QGIS é mais que capaz de resolver esta questão, usando as funções de selecção por atributo e até a fantástica nova capacidade de definir relações de 1 para muitos. 
Mais informação pode ser obtida aqui:</p>
<ul>
    <li><a href="http://docs.qgis.org/2.2/pt_PT/docs/user_manual/working_with_vector/editing_geometry_attributes.html#selecting-features-in-an-attribute-table" target="_blank">Seleccionando elementos na tabela de atributos</a></li>
    <li><a href="http://blog.vitu.ch/10112013-1201/qgis-relations" target="_blank">QGIS Relations</a></li>
    <li><a href="http://docs.qgis.org/2.2/pt_PT/docs/user_manual/working_with_vector/editing_geometry_attributes.html#creating-one-to-many-relations" target="_blank">Creating one to many relations</a></li>
</ul>

<p>Mas estes mecanismos exigem conhecimento de utilização de QGIS e até de SIG, pelo que não serviam ao nosso propósito. Era necessário criar mecanismos simples de pesquisa e cruzar 
resultados entre uma tabela e um tema.</p>

<h3>Primeira acção Python</h3>
<p>A primeira acção que se criou permitia ao utilizador clicar sobre uma linha na tabela de proprietários e selecionar todos os registos com o mesmo proprietário. É preciso explicar 
que esta tabela continha linhas para todos os prédios de cada proprietário. Ou seja, o mesmo proprietário surge tantas vezes quantos os prédios que este detém.</p>

<p>Nas propriedades da tabela de proprietários, na secção de Acções, vamos adicionar uma nova acção Python, e adicionar o código mostrado na imagem seguinte.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/4_acao1_selecionarNIFcomoeste.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/4_acao1_selecionarNIFcomoeste.png" width="500"  alt="Acçção para seleccionar todos os registos com o mesmo proprietário">
    </a>
</div>

<p>Naturalmente, o código é um pouco difícil de ler… e a sintaxe é um pouco diferente - é necessário terminar cada linha com “;”.</p>

<p>Mas o mais interessante é que quando o utilizador abrir a tabela de atributos e clicar com o botão direito sobre um registo vai ter agora uma nova opção chamada “Seleciona NIFs 
como este”. O QGIS irá passar o valor do campo “NumContrib” para este código e executá-lo. O código irá selecionar todos os registos da tabela com este NIF, permitindo ao utilizador 
executar uma selecção sem ter de conhecer a sintaxe de selecção do QGIS, nem qual o campo a usar… passa a ser uma ferramenta rápida e de uso imediato:</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/5_acao1_selecionarNIFcomoeste_interface.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/5_acao1_selecionarNIFcomoeste_interface.png" width="500"  alt="Acção para selecionar todos os atributos com um determinado NIF a partir da tabela de atributos">
    </a>
</div>

<p>E ao clicar na opção, vamos ver todos os registos com o mesmo NIF serem selecionados:</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/6_acao1_selecionarNIFcomoeste_interface2.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/6_acao1_selecionarNIFcomoeste_interface2.png" width="500"  alt="Resultado da acção para selecção de registos com um mesmo NIF">
    </a>
</div>

<p>Então, o que mais poderemos fazer para ajudar a consultar a informação? Adicionámos as seguintes acções:</p>
<ul>
    <li>&#8220;&#8221;Mostra Prédios” - seleciona no tema de cadastro todos os prédios correspondentes à selecção na tabela de proprietários (note-se que nesta tabela estão listados todos os prédios detidos por todos os proprietários);</li>
    <li>“Seleciona Nomes como este” - seleciona todos os registos na tabela com o mesmo nome do registo onde se clicou;</li>
    <li>“Pesquisa NIF” - permitir que o utilizador introduza um NIF para pesquisar na tabela. Pode depois usar a opção para mostrar os prédios correspondentes no mapa;</li>
    <li>“Pesquisa Nome” - permitir que o utilizador introduza um nome para pesquisar na tabela. Pode depois também ver os prédios correspondentes no mapa; </li>
</ul>

<p>O resultado de ter estas acções definidas, é que ao clicar na tabela com o botão direito surge-nos este menu:</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/7_acoes__interface_menu.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/7_acoes__interface_menu.png" width="500"  alt="Várias acções no menu de contexto na tabela de atributos">
    </a>
</div>

<p>Uma utilização típica seria pesquisar por nome e ver os prédios no mapa. O código da pesquisa por nome foi feito de forma a pesquisar todos os nomes que incluam o texto 
introduzido pelo utilizador. Assim, um exemplo de utilização seria começar pela pesquisa de todos os prédios cujo proprietário tem no nome o texto “maria de fátima”:</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/8_acao_pesquisanome_1.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/8_acao_pesquisanome_1.png" width="500"  alt="Acção de selecção de prédios a partir do nome do proprietário">
    </a>
</div>

<p>Obtendo-se 57 registos. E depois bastará selecionar a opção “Mostra Prédios” para ver esses prédios no mapa:</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/9_acao_pesquisanome_2.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/9_acao_pesquisanome_2.png" width="500"  alt="Resultado da execução da acção de selecção de prédios pelo nome do proprietário">
    </a>
</div>

<h3>Como comunicar com o utilizador usando Acções Python</h3>
<p>Há alguns truques interessantes nestas acções, sobretudo de como interagir com o utilizador… Como mostrar uma janela com uma mensagem?
Podemos usar um widget do Qt, dos mais simples. E a nossa mensagem pode até ser construída com os campos da tabela. Por exemplo:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="s">&quot;Prédio&quot;</span><span class="p">,</span> <span class="s">&quot;O código do prédio é [% Codigo %]&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>

<p>Como mostrar uma janela para o utilizador introduzir um valor? Podemos usar directamente no código um widget de introdução de texto do Qt:</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">texto</span><span class="p">,</span><span class="n">ok</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QInputDialog</span><span class="o">.</span><span class="n">getText</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="s">&quot;Titulo da janela&quot;</span><span class="p">,</span> <span class="s">&quot;Introduza um valor: &quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>

<p>Este widget mostra uma janela com o título que indicamos e uma caixa para introdução de texto, com uma mensagem indicada por nós. Note-se que temos de testar se é clicado o botão OK ou o botão de Cancelar…</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">if</span> <span class="n">ok</span><span class="p">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">texto</span>
</span><span class='line'>  <span class="k">else</span><span class="p">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="bp">False</span>
</span></code></pre></td></tr></table></div></figure>

<h3>Colocar o código num Módulo Python</h3>
<p>Quando o código da acção começa a crescer, a janela de definição da acção torna-se improductiva, e seria preferível usar o nosso editor favorito de Python. É possível criar um 
ficheiro de Python com todo o código das nossas acções e usá-lo depois no QGIS - em vez de usar todo o código na definição da acção, basta carregar o nosso módulo e invocar uma das 
suas funções:</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/11_acoes_modulo_exemplo1.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/11_acoes_modulo_exemplo1.png" width="500"  alt="Importação de acções programadas num ficheiro externo">
    </a>
</div>

<p>Como se pode ver, o código ficou muito simples:</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">import</span> <span class="nn">acoes</span><span class="p">;</span> <span class="n">acoes</span><span class="o">.</span><span class="n">selecNomePredio</span><span class="p">(</span><span class="err">‘</span><span class="p">[</span><span class="o">%</span> <span class="err">“</span><span class="n">Nome</span><span class="err">”</span> <span class="o">%</span><span class="p">]</span><span class="err">’</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>

<p>Todo o código foi colocado num ficheiro guardado na mesma pasta do nosso projecto. Neste exemplo, o ficheiro chama-se “acoes.py”. Este ficheiro não tem nada de especial, 
apenas contém funções Python normais, que podemos invocar a partir do QGIS. Apenas temos de importar alguns módulos do QGIS, e se necessário do próprio Qt para podermos usar os 
seus widgets:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">qgis.core</span> <span class="kn">import</span> <span class="o">*</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">qgis.utils</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">PyQt4</span> <span class="kn">import</span> <span class="n">QtGui</span>
</span></code></pre></td></tr></table></div></figure>

<p>Por outro lado, para garantir que não temos problemas com os caracteres portugueses, será melhor assegurar que o módulo é executado usando a codificação utf-8. Em Windows 
isto não acontece normalmente, e por isso temos de forçar o uso de utf-8 com o seguinte código logo no topo do ficheiro:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c"># -*- coding: UTF-8 -*-</span>
</span><span class='line'><span class="c">#assegurar que não temos problemas com o encoding de strings</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">sys</span>
</span><span class='line'><span class="nb">reload</span><span class="p">(</span><span class="n">sys</span><span class="p">)</span>
</span><span class='line'><span class="n">sys</span><span class="o">.</span><span class="n">setdefaultencoding</span><span class="p">(</span><span class="s">&quot;utf-8&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>

<p>E é tudo. Obviamente que a solução mais evoluída é construir um plugin Python que permite usar as nossas funções independentemente do projecto que usamos, e centralizar a sua 
actualização. Mas para algo rápido e simples, as acções Python têm muito para oferecer.</p>

<p>Bom trabalho!</p>

<br />
<img class="gravatar img-circle" src="http://www.gravatar.com/avatar/ad2bd7f23b8cd33f2412acdc462b6a13></img>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[2º Encontro De Utilizadores QGIS Portugal]]></title>
    <link href="http://qgis.pt/2014/06/18/2o-encontro-de-utilizadores-qgis-portugal/"/>
    <updated>2014-06-18T18:51:00+01:00</updated>
    <id>http://qgis.pt/2014/06/18/2o-encontro-de-utilizadores-qgis-portugal</id>
    <content type="html"><![CDATA[<p>O 2º Encontro de Utilizadores QGIS Portugal ocorreu no passado dia 2 de Junho na Faculdade de Ciências e Tecnologia da Universidade de Coimbra e
<!-- more --> contou com cerca de 140 participantes. Enquanto organizadores achamos que o evento foi um sucesso apesar de se terem verificado algumas situações que poderão
e deverão ser melhoradas na próxima edição. Fizemos um pedido à comunidade participante do evento que respondesse a um breve questionário para podermos avaliar
o seu sucesso. Como comunidade aberta e transparente que somos, apresentamos os resultados obtidos através da resposta de 55 participantes do evento.</p>

<div class="post-img">
    <h3>Estatísticas gerais sobre o encontro</h3>
    <a href="http://qgis.pt/blog/images/posts/stat_2014_geral.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/stat_2014_geral.png" width="500"  alt="Estatísticas gerais sobre o encontro">
    </a>
</div>

<div class="post-img">
    <h3>Estatísticas sobre os workshops</h3>
    <a href="http://qgis.pt/blog/images/posts/stat_2014_workshops.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/stat_2014_workshops.png" width="500"  alt="Estatísticas sobre os workshops">
    </a>
</div>

<p>Diversos utilizadores sugeriram também que as apresentações ficassem disponíveis <i>online</i>. A organização contactou todos os oradores que prontamente autorizaram a publicação
das suas apresentações.</p>

<table class="table table-striped">
    <tr>
        <th>Apresentação</th>
        <th>Autor</th>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/presentation/grupo_utilizadores.html" target="_blank">Grupo de Utilizadores QGIS PT - apresentação e objectivos</a></td>
        <td>Grupo de Utilizadores QGIS</td>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/apresentacoes_qgis2014/faunalia_qgis_day_2014.pdf" target="_blank">QGIS, um caso de sucesso: modelo de desenvolvimento (sustentável)</a></td>
        <td>Giovanni Manghi, NaturalGIS</td>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/apresentacoes_qgis2014/cmpinhel.pdf" target="_blank">Caso de Estudo: CM de Pinhel</td>
        <td>Pedro Venâncio</td>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/apresentacoes_qgis2014/mosorio.pdf" target="_blank">Experiências da utilização do QGIS no ensino de Arqueologia na FLUC</a></td>
        <td>Prof. Marcos Osório (FLUC)</td>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/apresentacoes_qgis2014/cmsabugal.pdf" target="_blank">Caso de Estudo: CM de Sabugal + <a href="http://qgis.pt/apresentacoes_qgis2014/cmsabugal.mp4" target="_blank">video</a></a></td>
        <td>Telmo Salgado</td>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/apresentacoes_qgis2014/jgaspar.pdf" target="_blank">Traduzir a documentação de QGIS, todos podem contribuir!</a> + <a href="http://qgis.pt/apresentacoes_qgis2014/jgaspar.avi" target="_blank">video</a></td>
        <td>João Gaspar</td>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/apresentacoes_qgis2014/edia.pdf" target="_blank">Caso de Estudo: EDIA</a></td>
        <td>Duarte Carreira</td>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/apresentacoes_qgis2014/jag.pdf" target="_blank">Tratamento de rasters de grande dimensão com a biblioteca GDAL e QGIS</a></td>
        <td>Prof. José Alberto Gonçalves (UP)</td>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/apresentacoes_qgis2014/cmmealhada.pdf" target="_blank">Caso de Estudo: CM Mealhada</a></td>
        <td>Hugo Fonseca</td>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/apresentacoes_qgis2014/isa.pdf" target="_blank">Experiência de uso do QGIS no ensino no ISA</a></td>
        <td>Prof. Graça Abrantes (ISA)</td>
</table>
<table class="table table-striped">
    <tr>
        <th>Workshop</th>
        <th>Autor</th>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/workshops_qgis2014/ws_introducao_qgis_day_2014.pdf" target="_blank">Introdução ao QGIS e suas funcionalidades</a></td>
        <td>Giovanni Manghi</td>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/workshops_qgis2014/ws_processing_qgis_day_2014.pdf" target="_blank">Processamento e análise com QGIS</a> + <a href="http://qgis.pt/workshops_qgis2014/workshop_processing_qgis_day_2014.zip" target="_blank">dados</a></td>
        <td>Pedro Venâncio</td>
    </tr>
    <tr>
        <td><a href="http://qgis.pt/presentation/ws_qgis_server.html" target="_blank">WebGIS e serviços OGC (WMS, WFS, WCS) com QGIS Desktop/Server</a> + <a href="http://qgis.pt/workshops_qgis2014/workshop_server_qgis_day_2014.zip" target="_blank">dados</a></td>
        <td>Hugo Martins</td>
    </tr>
</table>

<p>Não poderíamos deixar de agradecer uma vez mais o apoio dos nossos patrocionadores (Faculdade de Ciências e Tecnologia da Universidade de Coimbra e NaturalGIS) sem os quais teria sido impossível realizar este encontro. Não menos importantes
foram todos os utilizadores que estiveram presentes e que contribuiram para um dia fantástico de partilha de conhecimentos e <i>networking</i>. E porque nunca é demais realçar os objectivos atingidos, expressamos 
também a nossa gratidão a todos os que decidiram efectuar um donativo ao projecto QGIS: conseguimos reunir <b>570€</b> que estão neste momento a ser utilizados para o <i>bugfixing</i> da próxima versão do QGIS (2.4)!</p>

<p><b>A todos o nosso obrigado!</b> Contamos com as vossas opiniões, sugestões e colaboração na construção desta comunidade.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Instalação Do QGIS via OSGeo4W]]></title>
    <link href="http://qgis.pt/2014/06/18/instalacao-do-qgis-via-osgeo4w/"/>
    <updated>2014-06-18T18:22:27+01:00</updated>
    <id>http://qgis.pt/2014/06/18/instalacao-do-qgis-via-osgeo4w</id>
    <content type="html"><![CDATA[<p>Este post aborda o processo de instalação do QGIS em ambiente Windows utilizando o instalador OSGeo4W.<p>
<!-- more -->Efetue o download do instalador segundo a versão do seu sistema operativo (32/64bits) utilizando o seguinte <a href="http://trac.osgeo.org/osgeo4w/" target="_blank">link</a>.<p>

<h4>Etapas de instalação</h4>
<p>Deve-se executar o instalador e escolher como tipo de instalação a opção <b><i>Advanced install</i></b>. Nas seguintes opções, deverá proceder segundo as instruções abaixo:</p>
<ul>
    <li>Selecionar a opção <b><i>Install from internet</i></b>;</li>
	<li>Aceitar a diretoria <b><i>C:\OSGeo4w</i></b> como o local de instalação do software;</li>
	<li>Aceitar o local proposto para guardar os ficheiros de instalação;</li>
	<li>Definir o tipo de ligação para que o instalador possa aceder à internet. Atenção à eventual existência de um proxy na sua ligação à internet;</li>
	<li>Assim que os pacotes de instalação são acedidos, como mostra a imagem abaixo, são mostradas as várias opções de categoria a instalar;</li>
</ul>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/setup_osgeo4w_image001.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/setup_osgeo4w_image001.png" width="500"  alt="Diversas categorias de software">
    </a>
</div>
<ul>
    <li>Clique no botão + da opção <b><i>Commandline_Utilities</i></b> e depois em cima de <b>Skip</b> para a opção <b><i>setup:OSGeo4W Installer/Updater</i></b>. Esta opção permitirá criar no menu OSGeo4W uma entrada designada por Setup, a qual permitirá depois aceder de forma rápida a este instalador;</li>
	<li>Clique novamente no botão + da opção <b><i>Desktop</i></b> e selecione <b><i>qgis:QGIS Desktop</i></b> para instalar a versão corrente do QGIS. Se desejar, pode-se também instalar a versão que está em desenvolvimento, ativando para isso a opção <b><i>qgis-dev:QGIS nightly build of the master</i></b>;</li>
	<li>Na secção <b><i>Libs</i></b> verifique se está ativa a opção <b><i>qgis-grass-plugin</i></b>. Esta opção permite ativar o plugin GRASS GIS para trabalhar dentro do QGIS;</li>
	<li>Por fim, clique no botão <b><i>Seguinte</i></b> e aguarde enquanto o instalador procede à instalação do QGIS;</li>
	<li>No final de todo o processo, clique em <b><i>Concluir</i></b>. No menu <b><i>Iniciar>Programas>OSGeo4W</i></b> escolha a opção <b><i>QGIS Desktop 2.X</i></b>. Se tudo correu bem, o QGIS será iniciado.</li>
</ul>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/setup_osgeo4w_image002.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/setup_osgeo4w_image002.png" width="500"  alt="Iniciar o QGIS">
    </a>
</div>

<h4>Atualizar o QGIS com o OSGeo4W</h4>
<p>Para atualizar o QGIS, deve-se iniciar o Setup do OSGeo4W existente no menu <b><i>Iniciar>Programas>OSGeo4W</i></b>. Aceite todas as opções até à secção de pacotes de instalação. Uma vez aqui, deve-se verificar se existem atualizações ao QGIS. Se existirem, basta selecioná-las e prosseguir com a instalação.</p> 
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/setup_osgeo4w_image003.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/setup_osgeo4w_image003.png" width="500"  alt="Atualização do QGIS">
    </a>
</div>

<h4>Desinstalar o OSGeo4W</h4>
<p>Os pacotes de software podem ser desinstalados. Para isso deve-se correr de novo o Setup do OSGeo4W e na seção <b><i>Desktop Default</i></b> seleccionar de modo a fazer <b>Uninstall</b> nos pacotes desejados.
Atualmente não existem formas de desinstalar o OSGeo4W. No entanto, se for necessário o fazer, deve desinstalar todos os pacotes da forma descrita anteriormente e apagar a pasta existente em C:\OSGeo4W.</p> 
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/setup_osgeo4w_image004.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/setup_osgeo4w_image004.png" width="500"  alt="Desinstalação de software">
    </a>
</div>

<p>Através deste instalador, podemos afirmar que o utilizador QGIS estará sempre em dia com as atualizações/correções que vão sendo feitas ao QGIS.</p>

<p>Esperamos que este post o possa ajudar no que diz respeito à instalação e atualização do QGIS. 
<br />
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Colaborar No Nosso Github]]></title>
    <link href="http://qgis.pt/2014/05/01/colaborar-no-nosso-github/"/>
    <updated>2014-05-01T15:29:16+01:00</updated>
    <id>http://qgis.pt/2014/05/01/colaborar-no-nosso-github</id>
    <content type="html"><![CDATA[<p>A melhor forma de colaborar directamente connosco e partilhar os seus conteúdos com a comunidade de utilizadores QGIS-PT é através da utilização do <a href="http://git-scm.com/"target="_blank">Git</a> e da 
   plataforma <a href="https://github.com/" target="_blank">Github</a>. <!-- more --> O <i>Git</i> é um sistema distribuído de controlo de versões de código aberto desenhado para lidar com diferentes tipos de ficheiros e podendo ser
   utilizado em projectos de pequena a grande dimensão. O <i>Github</i> é um serviço de alojamento <i>web</i> para projectos que recorrem ao <i>Git</i> como ferramenta de controlo de versões. Este tutorial
   pertende demonstrar os passos que deverá seguir para colaborar connosco utilizando estas ferramentas de uma forma simples e eficaz.
</p>

<p>Deverá começar por instalar o <i>software Git</i>. Para isso consulte a informação disponível em <a href="http://git-scm.com/book/en/Getting-Started-Installing-Git" target="_blank">http://git-scm.com/book/en/Getting-Started-Installing-Git</a>.
   Aqui encontrará toda a informação de que necessita para instalar o <i>Git</i> no seu sistema operativo (seja este Linux, MacOS ou Windows).
</p>
<p>Para poder começar a utilizar o <i>Github</i> deverá efectuar o seu registo em  <a href="https://github.com/" target="_blank">https://github.com</a>, introduzindo um nome de utilizador, o seu email e 
   a sua password.
</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/register_github.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/register_github.png" width="500"  alt="Efectuar registo no Github">
    </a>
</div>

<p>Terminados estes passos, está agora em condições de colaborar nos nossos repositórios sem grande esforço. Se consultar o <a href="https://github.com/qgispt" target="_blank">Github</a> do grupo de utilizadores
   QGIS-PT deverá encontrar vários repositórios. Neste tutorial iremos utilizar o repositório chamado <b>blog</b> e demonstrar como submeter as suas contribuições <i>upstream</i>. Faça <i>login</i> no seu <i>Github</i>
   recentemente criado (se é que ainda não fez). A primeira coisa que deverá fazer é efectuar um <i>fork</i> do repositório <b>blog</b> para o seu <i>Github</i>. Para isso, escreva <i><b>@qgispt</b></i> na 
   caixa de pesquisa que se encontra no topo do <i>site</i>.
</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/search_qgispt.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/search_qgispt.png" width="500"  alt="Pesquisar pelo o Github do QGIS-PT">
    </a>
</div>

<p>Ao seleccionar a opção que lhe é mostrada irá ser redireccionado para o <i>Github</i> do grupo. Na lista de repositórios apresentada, seleccione o repositório <b>blog</b>.</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/blog_repo.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/blog_repo.png" width="500"  alt="Selecção do repositório do Blog">
    </a>
</div>

<p>De seguida carregue no botão <i><b>Fork</b></i> e aguarde enquanto o repositório é replicado no seu <i>Github</i>.</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/fork.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/fork.png" width="500"  alt="Fork do repositório do Blog">
    </a>
</div>

<p>Deverá agora visualizar uma réplica do repositório <b>blog</b> no seu <i>Github</i>. Tome nota do endereço <i>https</i> que é mostrado no lado direito da página (nota: se estiver à vontade com a 
utilização de <i>ssh</i> poderá usar o endereço apropriado e configurar o seu <i>Github</i> com a sua chave pública).</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/git_address.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/git_address.png" width="500"  alt="Endereço do nosso Fork">
    </a>
</div>

<p>Neste tutorial iremos utilizar a linha de comandos do sistema operativo para fazermos uma cópia do nosso <i>fork</i> para o computador onde estamos a trabalhar. Os utilizadores com Windows têm
   também uma interface gráfica disponível que é instalada conjuntamente com o <i>Git</i> e poderão, se assim o desejarem, replicar os próximos passos com essa interface. Abra o o seu terminal/consola DOS
   e navegue até à directoria onde deseja criar a cópia local do seu <i>fork</i> (neste tutorial essa directoria será <i>~/Documents/QGISPT</i>). De seguida efectue os seguintes passos substituindo a entrada
   <i>o_seu_nome_de_utilizador</i> pelo valor apropriado:
</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/Documents/QGISPT
</span><span class='line'>git clone https://github.com/o_seu_nome_de_utilizador/blog.git
</span><span class='line'><span class="nb">cd </span>blog
</span><span class='line'>git remote add upstream https://github.com/o_seu_nome_de_utilizador/blog.git
</span></code></pre></td></tr></table></div></figure>

<p>Neste momento tem tudo configurado e pronto para começar a produzir conteúdos no seu computador e mais tarde submetê-los para o <i>Github</i>. Repare que existe agora uma nova directoria chamada <b>blog</b>
   dentro da directoria que especificou anteriormente (neste caso <i>~/Documents/QGISPT</i>) com todos os conteúdos existentes no repositório. Suponha agora que desejaria criar uma nova pasta
   dentro do repositório e colocar lá um ficheiro de sua autoria. Usando as ferramentas do seu sistema operativo iria criar uma nova directoria (neste caso iremos chamá-la de <b>exemplos</b>).
</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/nova_pasta.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/nova_pasta.png" width="500"  alt="Criação de nova pasta">
    </a>
</div>

<p>Dentro desta pasta, iria em seguida colocar o seu novo ficheiro. Neste exemplo foi colocado um novo ficheiro chamado <i>traducao.html</i>. Depois de ter terminado a edição do seu ficheiro (ou vários ficheiros)
   poderá verificar o estado do seu repositório da seguinte forma:
</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git status
</span></code></pre></td></tr></table></div></figure>

<p>Este comando deverá devolver um <i>output</i> semelhante ao seguinte:</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># On branch master</span>
</span><span class='line'><span class="c"># Untracked files:</span>
</span><span class='line'><span class="c">#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>
</span><span class='line'><span class="c">#</span>
</span><span class='line'><span class="c">#	exemplos/traducao.html</span>
</span><span class='line'><span class="c"># nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span>
</span></code></pre></td></tr></table></div></figure>

<p>Ao analisar este <i>output</i> rapidamente se apercebe que existe um ficheiro que ainda não foi adicionado ao seu <i>Git</i> (repare na secção <i>Untracked files</i>). Para adicionar este ficheiro
   ao seu <i>Git</i> deverá então efectuar o seguinte:
</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git add exemplos/traducao.html
</span></code></pre></td></tr></table></div></figure>

<p>Volte a emitir o comando <i>git status</i> e irá reparar, que desta vez, o <i>Git</i> já sabe que existe um novo ficheiro para ser adicionado.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># On branch master</span>
</span><span class='line'><span class="c"># Changes to be committed:</span>
</span><span class='line'><span class="c">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>
</span><span class='line'><span class="c">#</span>
</span><span class='line'><span class="c">#	new file:   exemplos/traducao.html</span>
</span><span class='line'><span class="c">#</span>
</span></code></pre></td></tr></table></div></figure>

<p>Na terminologia própria do <i>Git</i> diz-se que o ficheiro foi adicionado à <i>staging area</i>. No entanto este ficheiro ainda não foi realmente submetido e gravado no <i>Git</i> para se começar 
   gravar todas as alterações nele efectuadas. Para o fazer deverá executar o seguinte comando:
</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git commit -m <span class="s1">&#39;Ficheiro traducao adicionado à lista de exemplos&#39;</span>
</span></code></pre></td></tr></table></div></figure>

<p>Depois de emitir este comando deverá visualizar uma mensagem semelhante à seguinte:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># 1 file changed, 109 insertions(+)</span>
</span><span class='line'><span class="c"># create mode 100644 exemplos/traducao.html</span>
</span></code></pre></td></tr></table></div></figure>

<p>Repare que o <i>Git</i> sabe que ocorreram alterações num único ficheiro e que foram adicionadas 109 novas linhas. Neste momento, todas as suas alterações foram gravadas no seu <i>Git</i> local. Quer
   isto dizer que se visitar o seu <i>Github</i> estas alterações ainda não estarão lá presentes. Para que possa carregar as suas alterações para o seu <i>fork</i> na <i>web</i> deverá então emitir o seguinte
   comando e introduzir o seu nome de utilizador e palavra-passe quando solicitado:
</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git push origin master
</span></code></pre></td></tr></table></div></figure>

<p>Se tudo correr bem, não verá qualquer mensagem de erro e as suas alterações deverão ter sido propagadas para o seu <i>Github</i>. Confirme que tal aconteceu visitando-o <i>online</i>.</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/push.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/push.png" width="500"  alt="Confirmação que alterações foram propagadas para o Github">
    </a>
</div>

<p>Neste momento as suas alterações já estão na <i>web</i> mas apenas no seu <i>fork</i>. O passo em falta é colocar essas alterações no repositório do grupo de utilizadores. Para o fazer deverá efectuar
   um <i>Pull request</i> através do <i>Github</i>. No seu <i>Github</i> navegue até ao <i>fork</i> e carregue no botão <i><b>Pull Request</b></i> que se encontra no topo direito da secção que mostra a 
   lista dos ficheiros e pastas disponíveis.
</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/pull.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/pull.png" width="500"  alt="Início do Pull Request">
    </a>
</div>

<p>Deverá então surgir uma nova página mostrando todas as suas alterações. Confirme que tudo está correcto e carregue no botão <i>Create Pull Request</i>.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/pull_1.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/pull_1.png" width="500"  alt="Validação e criação do Pull Request">
    </a>
</div>

<p>Finalmente, introduza um título para o seu <i>Pull Request</i> e, se desejar, introduza também algum comentário adicional. Carregue no botão <i><b>Send Pull Request</b></i>.</p>
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/pull_2.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/pull_2.png" width="500"  alt="Enviar Pull Request">
    </a>
</div>

<p>Neste momento um email será enviado automaticamente para os gestores do <i>Github</i> do grupo de utilizadores a informar que existe uma nova contribuição. Assim que possível, estes irão incluir
   as suas alterações no repositório central para que fiquem disponíveis para todos.
</p>

<p>Como nota final, uma vez que já efectuou a configuração do <i>fork</i> no seu <i>Github</i> e já ficou com uma cópia local deste repositório no seu computador, da próxima vez que quiser efectuar uma
   alteração a um ficheiro já existente ou criar uma nova pasta/ficheiro não tem que repetir todos os passos previamente mencionados. Apenas terá que seguir as instruções anteriores a partir do primeiro comando
   <i><b>git status</b></i>. Não se esqueça que, da mesma forma que fez as suas alterações, poderão existir outros utilizadores a criar novos conteúdos e a alterar conteúdos já existentes. Para que o seu 
   repositório local (isto é, o repositório <i>Git</i> que está na sua máquina) esteja sempre actualizado é boa prática que sempre que decida começar uma nova contribuição efectue primeiramente o seguinte 
   comando:
</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git fetch upstream
</span></code></pre></td></tr></table></div></figure>

<p>Desta forma irá garantir que está em total sincronia com o repositório oficial do grupo de utilizadores.</p>

<p>Esperamos que este tutorial vos ajude e clarifique os procedimentos que deverão adoptar para contribuirem para a nossa comunidade. Qualquer dúvida que tenham não hesitem em contactar-nos na <i>mailing list</i>, 
   ou através da interface de comentários disponibilizada em baixo.
</p>

<br />
<img class="gravatar img-circle" src="http://www.gravatar.com/avatar/5ac74272f140db2ce94bdc51869e3168></img>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tradução De Conteúdos QGIS Com Transifex]]></title>
    <link href="http://qgis.pt/2014/04/20/traducao-de-conteudos-qgis-com-transifex/"/>
    <updated>2014-04-20T22:01:46+01:00</updated>
    <id>http://qgis.pt/2014/04/20/traducao-de-conteudos-qgis-com-transifex</id>
    <content type="html"><![CDATA[<p>Este tutorial pretende demonstrar como é fácil contribuir para o projecto QGIS através da tradução do <a href="http://qgis.org/pt_PT/site/" target="_blank">website</a> e da 
   <a href="http://www.qgis.org/pt_PT/docs/index.html" target="_blank">documentação</a>. <!-- more -->O transifex é uma plataforma usada por vários projectos <i>open source</i> e comerciais para traduzir
   os seus conteúdos e desta forma chegar a mais público. Esta plataforma torna possível traduzir através da internet sem que tenha de instalar qualquer tipo de software.<p>

<h4>Registar-se</h4>
<p>Para iniciar, deverá registar-se no Transifex. Para tal, efectue o seu registo em <a href="https://www.transifex.com/signin/?next=/" target="_blank">https://www.transifex.com/signin/?next=/</a>.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/login.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/login.png" width="500"  alt="Entrada do site Transifex">
    </a>
</div>

<p>Nesta página tem duas formas de registo:</p>
<ul>
    <li><b>Registar-se gratuitamente</b>, onde o utilzador pode inserir os seus dados manualmente (neste caso irá receber um email de verificação na sua conta)</li>
    <li><b>Autenticação Social</b>, onde o utilizador pode recorrer à informação de redes sociais para autenticar o seu registo (Facebook, Twitter, google e Linkedin)<l/i>
</ul>

<h4>Integrar os projectos QGIS</h4>
<p>Após o registo, clique na parte superior do site na opção <i>Explorar</i> e escreva na caixa QGIS, que a pesquisa mostrará dois resultados relevantes. Um referente ao <i>QGIS Website</i> e 
   outro ao <i>QGIS Documentation</i></p>
   
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/explorar.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/explorar.png" width="500"  alt="Resultado da pesquisa pela palavra QGIS">
    </a>
</div>

<p>Tratam-se de dois projectos de tradução “independentes”. O <i>QGIS Website</i> serve para traduzir o site oficial do QGIS (<a href="www.qgis.org" target="_blank">www.qgis.org</a>) e,  por outro lado,
   o <i>QGIS Documentation</i> para traduzir toda a documentação do QGIS (manual do utilizador, manual de formação, livro de receita PyQgis, etc&#8230;). Daqui para a frente iremos mostrar um exemplo de 
   tradução para o <i>QGIS Documentation</i>. Os procedimentos são em tudo iguais para o <i>QGIS Website</i>. Ao entrar no projecto <i>QGIS Documentation</i> será exibida uma página com todos os idiomas
   com tradução iniciada. Clique na linha que diz <i>Portuguese (Portugal)</i>.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/Idioma.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/Idioma.png" width="500"  alt="Selecção do Idioma Português (Portugal)">
    </a>
</div>

<p>Todos os idiomas têm gestores que são responsáveis pela autorização de novos tradutores, para isso, deverá clicar primeiro no botão <i>Integrar Equipa</i> para solicitar a sua integração. O botão 
   <i>Discussões</i> serve para, depois de estar integrado na equipa, falar com os membros e tirar dúvidas sobre termos ou dúvidas relativos à tradução.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/Integrar_equipa.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/Integrar_equipa.png" width="500"  alt="Selecção do botão Integrar equipa">
    </a>
</div>


<p>Após autorização dos gestores, poderá clicar num dos documentos (recursos) e começar a tradução. Antes de ir directamente para a tradução do recurso, aparecerá uma janela com várias opções, 
   basta clicar no <i>Traduzir Agora</i> para começar a traduzir. A figura seguinte mostra um exemplo de um recurso aberto pronto a ser traduzido. A parte superior mostra o texto original e a parte 
   inferior mostra a caixa onde colocará a sua tradução.</p>
   
<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/Recurso.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/Recurso.png" width="500"  alt="Recurso a ser traduzido">
    </a>
</div>

<p>Na lista de textos à esquerda, irão ocorrer três situações, um visto verde, dois vistos verdes ou então um círculo. Quando o item tem um visto verde, significa que esse item já foi traduzido,
   se tiver dois vistos verdes significa que o item foi traduzido e revisto por um coordenador, e finalmente o círculo significa que o item ainda não foi traduzido.</p>

<p>Para facilitar a rapidez do processo da tradução o Transifex disponibiliza um motor de pesquisa de termos que podem facilitar a tradução da sua cadeia de texto e atalhos de teclado para uma rápida
   navegação.</p>

<p>Tem também ainda os seguintes separadores na parte inferior da cadeia de texto que podem ajudá-lo na tradução:</p>

<ul>
    <li><b>Sugestões</b> - Este separador, funciona quando a web aplicação encontra cadeias de texto ou semelhantes e atribui uma percentagem(%) de coincidência de tradução relativo ao que está a traduzir</li>
    <li><b>Histórico</b> - Este separador regista termos que são iguais ou semelhantes que foram usados no passado e que podem ser aplicados à cadeia de texto que está a traduzir</li>
    <li><b>Glossário</b> - Aqui consegue ver, os termos usados pelos tradutores, e pode também inserir novos termos para que as traduções sejam mais rápidas e facilitar outros tradutores na tradução
        das cadeias de texto (este separador será explicado detalhadamente mais à frente)</li>
    <li><b>Notas</b> - Aqui pode deixar as suas sugestões, ou outro tipo de observações relativo ao processo de tradução de uma cadeia de texto que será visível pelos outros tradutores</li>
</ul>

<p>Após efectuar a sua tradução tem duas opções, <i>Gravar</i> ou <i>Save All</i>. A primeira opção permite apenas guardar a cadeia de texto que acabou de traduzir, enquanto que a segunda opção serve
   em casos que traduz muitas cadeias de texto e no fim guarda todas.</p>
   
<p>O Transifex permite ainda ter um glossário para que possamos introduzir termos que se repetem e classificá-los como nome, pronome, verbo, adjectivo, de forma ajudar a optimizar a sua tradução e ajudar
   a clarificar os outros tradutores em caso de dúvidas na tradução. Para poder aceder ao glossário, quando está na tradução, clique no separador <i>Glossário</i>, e de seguida, clique em
   <i>Abrir Glossário</i>. A forma do glossário é apresentada na figura seguinte.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/glossario.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/glossario.png" width="500"  alt="Interface do Glossário">
    </a>
</div>

<p>Ao clicarmos no <i>Adicionar Termo</i>, irá aparecer a seguinte janela.</p>

<div class="post-img">
    <a href="http://qgis.pt/blog/images/posts/adicionartermo.png" rel="prettyPhoto" title="">
        <img class="img-responsive thumbnail" src="http://qgis.pt/blog/images/posts/adicionartermo.png" width="500"  alt="Adicionar Termo no glossário">
    </a>
</div>

<p>Nesta interface, pode adicionar o <i>Termo</i> em inglês que quer referir, no campo <i>Parte do Discurso</i> irá adicionar o tipo (Nome, Pronome, Adjectivo, Verbo, Advérbio, Preposição, 
   Conjunção, Interjeição). Para finalizar, na caixa <i>Tradução</i>, insira o texto em português e clique em <i>Gravar</i>.</p>

<p>Esperamos que este tutorial facilite a sua contribuição para a tradução do QGIS. Caso tenha dúvidas, não hesite em usar a <i>mailing list qgis-pt</i> para as esclarecer.</p>

<br />
<img class="gravatar img-circle" src="http://www.gravatar.com/avatar/0edb9f3a1e5191476215ce32183d80a4></img>
]]></content>
  </entry>
  
</feed>
